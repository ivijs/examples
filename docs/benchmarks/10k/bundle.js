!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}({2:function(t,e,n){n.r(e);const o=(t,e)=>({f:t,d:e}),i=(o(16,null),o(8224,null),o(8,null)),l=(t,e)=>({t:t,v:e}),r=(t,e,n)=>({t:t,v:e,c:n}),a=(t,e,n,o)=>({t:t,v:e,c:n,n:o}),c=(t,e)=>({k:t,v:e}),s=t=>l(i,t);let u=null;function f(t){return u=t}function d(t,e){const n=o(e,t);return(t,e,o=null)=>a(n,e,o,t)}const v=t=>d(t,2),p={},m={},h={},y=t=>({v:t}),x=[];let g=!1;function b(t){return function(){if(!g)try{return t.apply(void 0,arguments)}catch(e){throw g=!0,x.forEach(t=>{t(e)}),e}}}const w=()=>{};function T(t,e){const n=t.length-1,o=t.pop();e!==n&&(t[e]=o)}function M(t){for(let e=0;e<t.length;++e)!0===t[e]()&&T(t,e--)}const _=(t,e)=>Object.getOwnPropertyDescriptor(t,e),C=Node.prototype,S=Element.prototype,E=document,H=Object.prototype.hasOwnProperty,A=C.insertBefore,O=C.removeChild,j=(C.replaceChild,C.cloneNode),P=S.setAttribute,k=(S.setAttributeNS,S.removeAttribute),F=_(C,"textContent").set,N=_(S,"className").set,L=_(HTMLElement.prototype,"style").get,q=_(SVGElement.prototype,"style").get,R="http://www.w3.org/2000/svg",V=t=>({o:t,f:0,c:null,s:null});let B,G;function z(){const t=G;return G=0,t}const D=(t,e)=>(e|=G,G|=t,e);function I(t){let e,n=t.f;if(0===(3&n)){if(t=t.c,0!==(136&n)){for(n=0;n<t.length;n++)if(null!==(e=t[n]))return I(e);return null}return null===t?null:I(t)}return t.s}function J(t,e,n,o){const i=e.f;let l,r,a,c;if(0!==(4&i))l=e.s,a=e.c,r=z(),0!==(256&i)&&(0!==(1024&i)||null!==l.s&&!0===l.s(m))?e.c=et(t,a,l.r(e.o.v),n,o):0!==(65536&i)?J(t,a,n,o):!0===n?K(t,e):B=I(e),e.f=52223&e.f|G,G|=r|(49152&e.f)<<2;else if(0!==(65536&i)){if(r=z(),a=e.c,0!==(2&i))l=e.s,!0===n&&A.call(t,l,B),B=null,J(l,a,!1,!0),B=l;else if(0!==(136&i))for(c=a.length;c>0;)null!==(l=a[--c])&&J(t,l,n,!1);else 0!==(16&i)?J(t,a,n,o):(l=f(e.s),J(t,a,n,o),f(l));e.f=D(r,e.f)}else!0===n?K(t,e):B=I(e)}function K(t,e){const n=e.f;let o,i,l;if(0!==(3&n))i=e.s,A.call(t,i,B),B=i;else if(o=e.c,0!==(136&n))for(l=o.length;l>0;)null!==(i=o[--l])&&K(t,i);else null!==o&&K(t,o)}function Q(t){const e=t.f;let n,o,i;if(0!==(131072&e)&&null!==(n=t.c))if(0!==(136&e))for(o=0;o<n.length;o++)null!==(i=n[o])&&Q(i);else Q(n);if(0!==(32768&e)&&null!==(i=t.s.u))if("function"===typeof i)i(h);else for(o=0;o<i.length;o++)i[o](h)}function U(t,e,n){let o,i=e.f;if(0!==(3&i))O.call(t,e.s);else if(e=e.c,0!==(136&i))if(!0===n)F.call(t,"");else for(i=0;i<e.length;++i)null!==(o=e[i])&&U(t,o,!1);else null!==e&&U(t,e,n)}function W(t,e,n){U(t,e,n),Q(e)}function X(t,e,n){const o=E.createTextNode(n);A.call(t,o,B),B=o,e.s=o,e.f=1}function Y(t,e){const{t:n,v:o,n:i}=e,l=0!==(512&n.f);if(void 0===t){const e=n.d;t=l?E.createElementNS(R,e):E.createElement(e)}return i&&it(t,i,l),void 0!==o&&rt(t,void 0,o,l),t}function Z(t,e,n){const o=n.t,i=o.f;let l,r,a,c,s;if(0!==(4&i))l=z(),0!==(256&i)?(e.s=r={r:null,s:null,u:null},r.r=a=o.d.c(e)):a=o.d.c,e.c=tt(t,a(n.v)),e.f=52223&e.f|i|G,G|=l|(49152&e.f)<<2;else{if(l=z(),0!==(2&i))a=o.d,0!==(64&i)&&(null===(c=a.n)&&(a.n=c=Y(void 0,a.p)),c=j.call(c,!1)),e.s=c=Y(c,n),r=B,null!==(a=n.c)&&(B=null,e.c=tt(c,a)),B=c,A.call(t,c,r);else if(0!==(48&i))0!==(32&i)?(e.s=r=0!==(8192&i)?f(n.v):(d=o.d,v=n.v,u={n:u,d:d,v:v}),e.c=tt(t,n.c),f(r)):e.c=tt(t,n.c);else for(s=(c=n.v).length,e.c=a=Array(s);s>0;)a[--s]=tt(t,c[s].v);e.f=D(l,i)}var d,v}function $(t,e,n){let o=n.length;const i=Array(o),l=z();for(;o>0;)i[--o]=tt(t,n[o]);e.c=i,e.f=D(l,128)}function tt(t,e){if(null!==e){const n=V(e);return"object"===typeof e?e instanceof Array?$(t,n,e):Z(t,n,e):X(t,n,e),n}return null}function et(t,e,n,o,i){if(null===n)return null!==e&&W(t,e,i),null;if(null===e)return tt(t,n);const{f:l,o:r,s:a}=e;if(0!==(1&l)){if("object"===typeof n)return O.call(t,a),tt(t,n);e.o=n,r!==n&&(a.nodeValue=n),!0===o&&A.call(t,a,B),B=a}else{if(r===n)return J(t,e,o,i),e;if(0!==(128&l)?!(n instanceof Array):n instanceof Array||r.t!==n.t)return W(t,e,i),tt(t,n);e.o=n;const c=e.c;let s,u,d,v,p;if(0!==(4&l))u=r.v,d=n.v,v=n.t.d,0!==(1024&l)||u!==d&&(void 0===v.e||!0===v.e(u,d))?(s=z(),e.c=et(t,c,0!==(256&l)?a.r(d):v.c(d),o,i),p=e.f,e.f=52223&p|G,G|=s|(49152&p)<<2):J(t,e,o,i);else{if(s=z(),0!==(2&l))p=0!==(512&l),!0===o&&A.call(t,a,B),v=n.n,r.n!==v&&(void 0===v&&(v=""),it(a,v,p)),v=n.v,r.v!==v&&rt(a,r.v,v,p),B=null,e.c=et(a,c,n.c,!1,!0),B=a;else if(0!==(136&l))if(0!==(128&l))if(0===(p=n.length))W(t,e,i);else{if(p!==(u=c.length)){for(e.c=v=Array(p);u>p;)null!==(d=c[--u])&&W(t,d,!1);for(;p>u;)v[--p]=tt(t,n[p])}else v=c;for(;p>0;)v[--p]=et(t,c[p],n[p],o,!1)}else nt(t,e,r.v,n.v,o,i);else 0!==(16&l)?e.c=et(t,c,n.c,o,i):(d=n.v,0!==(8192&l)?e.s=d:a.v=d,v=f(e.s),e.c=et(t,c,n.c,o,i),f(v));e.f=D(s,l)}}return e}function nt(t,e,n,o,i,l){let r=o.length,a=n.length;const c=Array(r);if(0===r)a>0&&W(t,e,l);else if(0===a)for(;r>0;)c[--r]=tt(t,o[r].v);else{const s=e.c;let u=a-1,f=r-1,d=0,v=o[f];t:for(;;){for(;n[u].k===v.k;){if(c[f]=et(t,s[u--],v.v,i,!1),d>--f||d>u)break t;v=o[f]}for(;n[d].k===o[d].k&&++d<=u&&d<=f;);break}if(d>u)for(;f>=d;)c[f]=tt(t,o[f--].v);else if(d>f){r=d;do{null!==(v=s[r++])&&W(t,v,!1)}while(r<=u)}else{let p=0,m=0;const h=u-d+1,y=f-d+1,x=Array(y),g=new Map;for(r=0;r<y;++r)a=r+d,x[r]=-1,g.set(o[a].k,a);for(r=d;r<=u&&m<y;++r)void 0!==(a=g.get(n[r].k))&&(p=p<a?a:99999999,++m,x[a-d]=r,c[a]=s[r],s[r]=null);if(h===n.length&&0===m)for(W(t,e,l);f>=0;)c[f]=tt(t,o[f--].v);else{for(r=d;r<=u;r++)null!==(v=s[r])&&W(t,v,!1);if(r=y,!0===i||99999999!==p)for(;r>0;)v=o[p=--r+d].v,c[p]=-1===x[r]?tt(t,v):et(t,c[p],v,i,!1);else{const e=ot(x);for(a=e.length-1;r>0;)v=o[p=--r+d].v,-1===x[r]?c[p]=tt(t,v):(a<0||r!==e[a]?i=!0:--a,c[p]=et(t,c[p],v,i,!1),i=!1)}}}for(;d>0;)c[--d]=et(t,s[d],o[d].v,i,!1)}e.c=c}function ot(t){const e=t.slice(),n=[];let o,i,l,r=0,a=0;for(n[0]=0;a<t.length;++a){const c=t[a];if(c>-1)if(t[l=n[r]]<c)e[a]=l,n[++r]=a;else{for(o=0,i=r;o<i;)t[n[l=o+i>>1]]<c?o=l+1:i=l;c<t[n[o]]&&(o>0&&(e[a]=n[o-1]),n[o]=a)}}for(i=n[r];r>=0;)n[r--]=i,i=e[i];return n}function it(t,e,n){!0===n?P.call(t,"class",e):N.call(t,e)}function lt(t,e,n,o){const i=!0===o?q.call(t):L.call(t);let l,r;if(void 0===e)for(l in n)void 0!==(r=n[l])&&i.setProperty(l,r);else if(void 0===n)for(l in e)void 0!==e[l]&&i.removeProperty(l);else{let t=0,o=0;for(l in e)e[l]!==(r=!0===H.call(n,l)?(t++,n[l]):void 0)&&(void 0!==r?i.setProperty(l,r):i.removeProperty(l));const a=Object.keys(n);for(;t<a.length&&o<a.length;++o)l=a[o],!1===H.call(e,l)&&(r=n[l],++t,void 0!==r&&i.setProperty(l,n[l]))}}function rt(t,e,n,o){let i;if(void 0===e)for(i in n)at(t,i,void 0,n[i],o);else if(void 0===n)for(i in e)at(t,i,e[i],void 0,o);else{let l=0,r=0;for(i in e)at(t,i,e[i],!0===H.call(n,i)?(l++,n[i]):void 0,o);const a=Object.keys(n);for(;l<a.length&&r<a.length;++r)i=a[r],!1===H.call(e,i)&&(at(t,i,void 0,n[i],o),++l)}}function at(t,e,n,o,i){"style"!==e?"object"===typeof o?o.u(t,e,void 0===n?void 0:n.v,o.v):"object"===typeof n?n.u(t,e,n.v,void 0):n!==o&&("boolean"===typeof o&&(o=o?"":void 0),void 0===o?void 0!==n&&!1!==n&&k.call(t,e):P.call(t,e,o)):n!==o&&lt(t,n,o,i)}const ct=[],st=t=>ct.find(t);function ut(){for(let t=0;t<ct.length;++t){const e=ct[t],{container:n,state:o,next:i}=e;B=null,G=0,void 0!==i?(e.next=void 0,e.state=et(n,o,i,!1,!0)):null!==o&&J(n,o,!1,!0)}}function ft(t){for(;t.v.length>0;){const e=t.v;t.v=[];for(let t=0;t<e.length;++t)e[t](p)}}let dt=0,vt=0,pt=1;const mt=Promise.resolve(),ht=y([]),yt=y([]),xt=y([]),gt=[],bt=[],wt=t=>b(function(){dt|=1,t.apply(void 0,arguments),ft(ht),dt&=-4,++pt}),Tt=wt(w),Mt=()=>pt,_t=t=>wt(e=>{dt|=16,t(e),0!==(4&dt)&&(void 0!==e&&(vt=e),M(gt),0!==(32&dt)&&ut(),ft(yt),M(bt),ft(xt)),dt&=-61}),Ct=_t(w),St=()=>{Ct()};function Et(t){var e;void 0!==t&&0!==(1&t)&&0===(8&dt)?0===(16&(dt|=12))&&(e=St,ht.v.push(e),0===(3&dt)&&(dt|=2,mt.then(Tt))):0===(4&dt)&&0===(16&(dt|=4))&&requestAnimationFrame(Ct)}function Ht(t){dt|=32,Et(t)}function At(t,e,n){const o=st(t=>t.container===e);o?o.next=t:ct.push({container:e,state:null,next:t}),Ht(n)}function Ot(t,e,n){let o,i,l=0;const r=t.s.s,a=t=>t===m?null!==r&&!0===r(m)||void 0!==o&&(t=e(i,o),l=Mt(),o!==t)&&(o=t,!0):(void 0===o||i===t||void 0!==n&&!0===n(i,t)||(o=void 0),(void 0===o||l<Mt())&&(o=e(t,o)),i=t,o);return t.s.s=a,a}const jt=void 0,Pt=v("div"),kt=v("span");var Ft,Nt,Lt=100,qt=function(t,e,n,o){this.min=t,this.max=e,this.mean=n,this.last=o},Rt=function(){function t(t){this.samples=[],this.maxSamples=t,this._i=-1}return t.prototype.addSample=function(t){this._i=(this._i+1)%this.maxSamples,this.samples[this._i]=t},t.prototype.each=function(t){for(var e=this.samples,n=0;n<e.length;n++)t(e[(this._i+1+n)%e.length],n)},t.prototype.calc=function(){var t=this.samples;if(0===t.length)return new qt(0,0,0,0);for(var e=t[(this._i+1)%t.length],n=e,o=0,i=0;i<t.length;i++){var l=t[(this._i+1+i)%t.length];l<e&&(e=l),l>n&&(n=l),o+=l}var r=t[this._i],a=o/t.length;return new qt(e,n,a,r)},t}(),Vt=[],Bt=-1,Gt=(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}Ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zt=30,Dt=Lt,It=function(){function t(t){var e=this;this._sync=function(){e.sync(),e._dirty=!1},this.name=t,this.element=document.createElement("div"),this.element.style.cssText="padding: 2px;background-color: #020;font-family: monospace;font-size: 12px;color: #0f0",this._dirty=!1,this.invalidate()}return t.prototype.invalidate=function(){var t;this._dirty||(this._dirty=!0,t=this._sync,Vt.push(t),-1===Bt&&requestAnimationFrame(function(t){Bt=-1;var e=Vt;Vt=[];for(var n=0;n<e.length;n++)e[n]()}))},t.prototype.sync=function(){throw new Error("sync method not implemented")},t}();!function(t){t[t.HideMin=1]="HideMin",t[t.HideMax=2]="HideMax",t[t.HideMean=4]="HideMean",t[t.HideLast=8]="HideLast",t[t.HideGraph=16]="HideGraph",t[t.RoundValues=32]="RoundValues"}(Nt||(Nt={}));var Jt=function(t){function e(e,n,o,i){var l=t.call(this,e)||this;l.flags=n,l.unitName=o,l.samples=i;var r=document.createElement("div");r.style.cssText="text-align: center",r.textContent=l.name;var a=document.createElement("div");return 0===(n&Nt.HideMin)?(l.minText=document.createElement("div"),a.appendChild(l.minText)):l.minText=null,0===(n&Nt.HideMax)?(l.maxText=document.createElement("div"),a.appendChild(l.maxText)):l.maxText=null,0===(n&Nt.HideMean)?(l.meanText=document.createElement("div"),a.appendChild(l.meanText)):l.meanText=null,0===(n&Nt.HideLast)?(l.lastText=document.createElement("div"),a.appendChild(l.lastText)):l.lastText=null,l.element.appendChild(r),l.element.appendChild(a),0===(n&Nt.HideGraph)?(l.canvas=document.createElement("canvas"),l.canvas.style.cssText="display: block; padding: 0; margin: 0",l.canvas.width=Dt,l.canvas.height=zt,l.ctx=l.canvas.getContext("2d"),l.element.appendChild(l.canvas)):(l.canvas=null,l.ctx=null),l}return Gt(e,t),e.prototype.sync=function(){var t,e,n,o,i=this,l=this.samples.calc(),r=zt/(1.2*l.max);0===(this.flags&Nt.RoundValues)?(t=l.min.toFixed(2),e=l.max.toFixed(2),n=l.mean.toFixed(2),o=l.last.toFixed(2)):(t=Math.round(l.min).toString(),e=Math.round(l.max).toString(),n=Math.round(l.mean).toString(),o=Math.round(l.last).toString()),null!==this.minText&&(this.minText.textContent="min:  "+t+this.unitName),null!==this.maxText&&(this.maxText.textContent="max:  "+e+this.unitName),null!==this.meanText&&(this.meanText.textContent="mean: "+n+this.unitName),null!==this.lastText&&(this.lastText.textContent="last: "+o+this.unitName),null!==this.ctx&&(this.ctx.fillStyle="#010",this.ctx.fillRect(0,0,Dt,zt),this.ctx.fillStyle="#0f0",this.samples.each(function(t,e){i.ctx.fillRect(e,zt,1,-t*r)}))},e}(It),Kt=(function(t){function e(e,n){var o=t.call(this,e)||this;return o.counter=n,o.text=document.createElement("div"),o.element.appendChild(o.text),o}Gt(e,t),e.prototype.sync=function(){this.text.textContent=this.name+": "+this.counter.value}}(It),null);function Qt(){Kt||((Kt=document.createElement("div")).style.cssText="position: fixed;opacity: 0.9;right: 0;bottom: 0",document.body.appendChild(Kt))}function Ut(t){void 0===t&&(t=Nt.HideMin|Nt.HideMax|Nt.HideMean|Nt.RoundValues),Qt();var e=new Rt(Lt),n=new Jt("FPS",t,"",e);Kt.appendChild(n.element);var o=0,i=60;requestAnimationFrame(function t(l){o>0&&(i+=2/121*(1e3/(l-o)-i)),o=l,e.addSample(i),n.invalidate(),requestAnimationFrame(t)})}function Wt(t){if(void 0===t&&(t=Nt.HideMin|Nt.HideMean),Qt(),void 0!==performance.memory){var e=new Rt(Lt),n=new Jt("Memory",t,"MB",e);Kt.appendChild(n.element),function t(){e.addSample(Math.round(performance.memory.usedJSHeapSize/1048576)),n.invalidate(),setTimeout(t,30)}()}}var Xt=function(t,e,n){this.data=new Rt(Lt),this.widget=new Jt(t,n,e,this.data),this.startTime=-1},Yt={};function Zt(t,e){void 0===e&&(e=0),Qt();var n=Yt[t];void 0===n&&(Yt[t]=n=new Xt(t,"ms",e),Kt.appendChild(n.widget.element))}function $t(t){var e=Yt[t];void 0!==e&&(e.startTime=performance.now())}function te(t){var e=performance.now(),n=Yt[t];void 0!==n&&-1!==n.startTime&&(n.data.addSample(e-n.startTime),n.widget.invalidate())}function ee(){return"#"+Math.floor(16777215*Math.random()).toString(16)}function ne(){const t=new Array(1e4);for(let e=0;e<1e4;e++)t[e]=ee();return t}function oe(t,e){if(e>0)if(1===e)for(let n=0;n<1e4;n++)t[n]=ee();else for(let n=0;n<1e4;n++)Math.random()<e&&(t[n]=ee())}const{get:ie,set:le}=function(){let t;const e={get:()=>{let t=u;for(;null!==t;){if(t.d===e)return t.v;t=t.n}},set:(e,n)=>r(t,e,n)};return t=o(32,e),e}(),re=function(t,e){const n=o(16644,{c:t=>{const e=Ot(t,t=>ie()[t]);return t=>kt("pixel",{style:{background:e(t)}})},e:void 0});return t=>l(n,t)}(),ae=function(t,e){const n=o(4,{c:()=>{const t=[];for(let e=0;e<100;e++){const n=100*e,o=[];for(let t=0;t<100;t++)o.push(c(t,re(n+t)));t.push(c(e,Pt("row",jt,s(o))))}return Pt("image",jt,s(t))},e:void 0});return t=>l(n,t)}();document.addEventListener("DOMContentLoaded",()=>{Ut(),Wt(),Zt("data update"),Zt("view update");let t=.5;const e=document.createElement("div");e.style.margin="0 auto",e.style.width="80%";const n=document.createElement("input");n.type="range",n.style.width="100%",n.addEventListener("change",e=>{t=Number.parseFloat(e.target.value)/100}),e.appendChild(n),document.body.insertBefore(e,document.body.firstChild);const o=ne(),i=document.getElementById("app");At(le(o,ae()),i),requestAnimationFrame(function e(){$t("data update"),oe(o,t),te("data update"),$t("view update"),_t(()=>{At(le(o,ae()),i)})(),te("view update"),requestAnimationFrame(e)})})}});