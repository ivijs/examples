(function(){'use strict';function aa(b,a){function c(){}c.prototype=a.prototype;b.prototype=new c;b.prototype.constructor=b;for(var d in a)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(a,d);e&&Object.defineProperty(b,d,e)}else b[d]=a[d]}try{var ba=Object.defineProperty({},"passive",{get:function(){}});window.addEventListener("test",null,ba)}catch(b){}var ca=0;/iPad|iPhone|iPod/.test(navigator?navigator.userAgent:"")&&!window.fa&&(ca|=1);function da(){}function ea(b,a){return b!==a}
function t(b,a,c,d,e){this.f=b;this.j=a;this.g=null;this.h=c;this.m=d;this.i=this.l=null;this.a=e;this.B=this.b=null}t.prototype.key=function(b){this.g=b;return this};t.prototype.className=function(b){this.m=b;return this};t.prototype.style=function(b){this.l=b;return this};
t.prototype.children=function(b){if(Array.isArray(b)){this.f|=64;a:for(var a=0;a<b.length;a++){var c=b[a];if(null===c||Array.isArray(c)){c=b.slice(0,a);fa(b,c,a);b=c;break a}"object"!==typeof c&&(b[a]=u(c))}}else this.f="object"===typeof b?this.f|32:this.f|16;this.a=b;return this};t.prototype.value=function(b){this.a=b;return this};t.prototype.checked=function(b){this.a=b;return this};function u(b){return new t(1,null,null,null,b)}function v(b,a){return new t(2,b,null,void 0===a?null:a,null)}
function x(b,a){return new t(b.prototype.U?8:4,b,a,null,null)}function y(b){var a=b.f,c=b.a;if(null!==c&&a&64)for(var a=Array(c.length),d=0;0>d;d++)a[d]=y(c[d]);c=new t(b.f,b.j,b.h,b.m,b.f&12?null:b.a);c.g=b.g;c.i=b.i;c.l=b.l;return c}function fa(b,a,c){for(;c<b.length;c++){var d=b[c];null!==d&&(Array.isArray(d)?fa(d,a,0):a.push("object"===typeof d?d:u(d)))}}function z(b,a){this.data=b;this.from=a}
z.prototype.get=function(b){var a=this,c;if("string"!==typeof b){for(var d=Object.keys(b),e=d.length;0<e&&a;){if(a.data)for(var f=0;f<d.length;f++){var g=d[f];if(g&&(c=a.data[g],void 0!==c)){b[g]=a.data[g];d[f]=null;e--;break}}a=a.from}return b}for(;a;){if(a.data&&(c=a.data[b],void 0!==c))return c;a=a.from}};var ga=new z(void 0);function ha(b,a,c){c||(c="");a&4096?b.setAttribute("class",c):b.className=c}
function ia(b,a,c){var d,e,f;if(null===a){if(null!==c)if(f=b.style,"string"===typeof c)f.cssText=c;else for(d=Object.keys(c),b=0;b<d.length;b++)e=d[b],f[e]=c[e]}else if(null===c)if(f=b.style,"string"===typeof a)f.cssText="";else for(d=Object.keys(a),b=0;b<d.length;b++)f[d[b]]=null;else if(f=b.style,"string"===typeof c)f.cssText=c;else if("string"===typeof a)for(f.cssText="",d=Object.keys(c),b=0;b<d.length;b++)e=d[b],f[e]=c[e];else{var g=0;d=Object.keys(a);for(b=0;b<d.length;b++){e=d[b];var h=c[e];
void 0!==h?(a[e]!==h&&(f[e]=h),g++):f[e]=null}d=Object.keys(c);for(b=0;g<d.length&&b<d.length;)e=d[b++],a.hasOwnProperty(e)||(f[e]=c[e],g++)}}
function A(b,a,c,d){if(a&2048&&"volume"===c)b.volume!==d&&(b.volume=void 0===d?null:d);else if(void 0===d)b.removeAttribute(c);else{if(5<c.length)if(120===c.charCodeAt(0)&&(58===c.charCodeAt(3)||58===c.charCodeAt(5))){if(109===c.charCodeAt(1)&&108===c.charCodeAt(2)){b.setAttributeNS("http://www.w3.org/XML/1998/namespace",c,d);return}if(108===c.charCodeAt(1)&&105===c.charCodeAt(2)&&110===c.charCodeAt(3)&&107===c.charCodeAt(4)){b.setAttributeNS("http://www.w3.org/1999/xlink",c,d);return}}else if(45===
c.charCodeAt(4)){b.setAttribute(c,d);return}b[c]=d}}function ja(b,a,c,d){var e,f,g;if(null===c){if(null!==d)for(f=Object.keys(d),e=0;e<f.length;e++)g=f[e],A(b,a,g,d[g])}else if(null===d)for(f=Object.keys(c),e=0;e<f.length;e++)A(b,a,f[e]);else{var h=0;f=Object.keys(c);for(e=0;e<f.length;e++){g=f[e];var n=d[g];void 0===n?A(b,a,g):(c[g]!==n&&A(b,a,g,n),h++)}f=Object.keys(d);for(e=0;h<f.length&&e<f.length;)g=f[e++],c.hasOwnProperty(g)||(A(b,a,g,d[g]),h++)}}
function C(b,a,c){var d,e,f;if(null===a){if(null!==c)for(e=Object.keys(c),d=0;d<e.length;d++)a=c[e[d]],a.v.T(a.w)}else if(null===c)for(e=Object.keys(a),d=0;d<e.length;d++){var g=a[e[d]];g.v.W(g.w)}else{g=0;e=Object.keys(a);for(d=0;d<e.length;d++){f=e[d];var h=a[f];f=c[f];void 0!==f?(h!==f&&(f.v.T(f.w),h.v.W(h.w)),g++):h.v.W(h.w)}e=Object.keys(c);for(d=0;g<e.length&&d<e.length;)f=e[d++],a.hasOwnProperty(f)||(h=c[f],h.v.T(h.w),g++)}b._ev=null===c?void 0:c}
function D(b){var a=b.f;if(a&12)if(a&8){var c=b.a;c.c|=8;c.ga();D(c.root)}else D(b.a);else if(!(a&2560)&&(c=b.a,null!==c&&a&96))if(a&64)for(var d=0;d<c.length;d++)D(c[d]);else D(c);b.B&&b.B(a&12?b.a:b.b)}function E(b){var a=b.f;if(a&12)if(a&8){var c=b.a;E(c.root);c.c&=-265;c.ja()}else E(b.a);else if(a&2){if(!(a&2560)&&(c=b.a,null!==c&&a&96))if(a&64)for(a=0;a<c.length;a++)E(c[a]);else E(c);b.i&&C(b.b,b.i,null)}b.B&&b.B(null)}function F(b){for(var a=0;a<b.length;a++)E(b[a])}
function G(b,a,c,d){var e=a.f;if(e&12)e&8?(b=a.a,ka(b,c),la(b)):2>a.j.length?a.a&&G(b,a.a,c,d):ma(b,a.a,a.a,c,d);else if(!(e&2560)&&(a=a.a,null!==a&&e&96))if(e&64)for(e=0;e<a.length;e++)G(b,a[e],c,d);else G(b,a,c,d)}function H(b,a){b.removeChild(a.b);E(a)}function ka(b,a){if(b.A!==a){b.c|=4;var c=b.A;b.A=a;b.ha(c,a)}}function na(b){b.c&=-193;var a=b.la();b.c|=(b.c&64)<<1;b.J=a?new z(a,b.A):b.A}function oa(b){b.c&=-49;var a=b.root=b.U()||u("");b.c|=(b.c&16)<<1;return a}
function la(b){var a=b.c,c=b.P;if(a&8&&a&7){var d=b.root;a&4&&na(b);b.ma();a&35?(a=b.O,c=oa(b),c=b.P=J(a,d,c,b.J),b.c&=-1032):d&&G(b.O,d,b.J,b);b.ka()}return c}function ma(b,a,c,d,e){var f=a.b,g=c.j;a===c||!g.C||g.C(a.h,c.h)?(a=a.a,g=c.a=g(c.h,d)||u(""),f=J(b,a,g,d,e)):c.a=a.a;return c.b=f}
function K(b,a,c,d){a.b&&(a=y(a));var e=a.f;if(e&3)if(e&1)b=document.createTextNode(a.a);else{e&512?e&1024?b=document.createElement("textarea"):(b=document.createElement("input"),b.type=a.j):b=e&4096?document.createElementNS("http://www.w3.org/2000/svg",a.j):document.createElement(a.j);a.h&&ja(b,e,null,a.h);null!==a.m&&ha(b,e,a.m);null!==a.l&&ia(b,null,a.l);a.i&&C(b,null,a.i);var f=a.a;if(null!==f)if(e&80)if(e&16)b.textContent=f;else for(e=0;e<f.length;e++)b.insertBefore(K(b,f[e],c,d),null);else e&
32?b.insertBefore(K(b,f,c,d),null):e&512?(c=b,"string"===typeof f?c.value=f:c.checked=f):b.innerHTML=f}else e&8?(c=a.a=new a.j(a.h,c,d),c.O=b,na(c),d=oa(c),b=c.P=K(b,d,c.J,c)):(f=a.a=(0,a.j)(a.h,c)||u(""),b=a.b=K(b,f,c,d));return a.b=b}function L(b,a,c,d,e){b=b.insertBefore(K(b,c,d,e),a);D(c);return b}function M(b,a){return(b.f&7695)===(a.f&7695)&&b.j===a.j&&b.g===a.g}
function N(b,a,c,d,e){if(a===c)return c.b;c.b&&(c=y(c));var f=a.f;if(f&3)if(b=c.b=a.b,f&1)a.a!==c.a&&(b.nodeValue=c.a);else{if(a.h!==c.h&&ja(b,f,a.h,c.h),a.m!==c.m&&ha(b,f,c.m),a.l!==c.l&&ia(b,a.l,c.l),a.i!==c.i&&C(b,a.i,c.i),a.a!==c.a){var f=a.b,g=a.f,h=c.f;a=a.a;c=c.a;if(null===a)if(h&80)if(h&16)f.textContent=c;else for(g=0;g<c.length;g++)L(f,null,c[g],d,e);else h&32?L(f,null,c,d,e):h&512?"string"===typeof c?f.value=c:f.checked=c:f.innerHTML=c;else if(null===c)g&144?f.textContent="":g&64?(f.textContent=
"",F(a)):g&32?H(f,a):"string"===typeof a?f.value="":f.checked=!1;else if(g&144)if(h&144)h&16?(d=f.firstChild)?d.nodeValue=c:f.textContent=c:f.innerHTML=c;else if(f.textContent="",h&64)for(g=0;g<c.length;g++)L(f,null,c[g],d,e);else L(f,null,c,d,e);else if(g&64)if(h&144)h&16?f.textContent=c:f.innerHTML=c,F(a);else if(h&64)if(0===a.length)for(g=0;g<c.length;g++)L(f,null,c[g],d,e);else if(0===c.length)f.textContent="",F(a);else if(1===a.length&&1===c.length)J(f,a[0],c[0],d,e);else if(g&h&256){var n=0,
g=0,m=a.length-1,q=c.length-1,l=a[n],h=c[g],k=a[m],p=c[q],r,I;a:for(;;){for(;l.g===h.g;){J(f,l,h,d,e);n++;g++;if(n>m||g>q)break a;l=a[n];h=c[g]}for(;k.g===p.g;){J(f,k,p,d,e);m--;q--;if(n>m||g>q)break a;k=a[m];p=c[q]}if(k.g===h.g){J(f,k,h,d,e);f.insertBefore(h.b,l.b);m--;g++;if(n>m||g>q)break;k=a[m];h=c[g]}else if(l.g===p.g){J(f,l,p,d,e);l=q+1;l=l<c.length?c[l].b:null;f.insertBefore(p.b,l);n++;q--;if(n>m||g>q)break;l=a[n];p=c[q]}else break}if(n>m)for(l=q+1,l=l<c.length?c[l].b:null;g<=q;)L(f,l,c[g++],
d,e);else if(g>q)for(;n<=m;)H(f,a[n++]);else{var W=m-n+1,l=q-g+1,h=Array(l).fill(-1),X=!1,w=0,B=0;if(4>=l||16>=W*l)for(k=n;k<=m;k++){if(r=a[k],B<l)for(p=g;p<=q;p++)if(I=c[p],r.g===I.g){h[p-g]=k;w>p?X=!0:w=p;J(f,r,I,d,e);B++;a[k]=null;break}}else{for(var qa=new Map,k=g;k<=q;k++)r=c[k],qa.set(r.g,k);for(k=n;k<=m;k++)r=a[k],B<l&&(p=qa.get(r.g),void 0!==p&&(I=c[p],h[p-g]=k,w>p?X=!0:w=p,J(f,r,I,d,e),B++,a[k]=null))}if(W===a.length&&0===B)for(f.textContent="",F(a);g<l;)L(f,null,c[g++],d,e);else{for(k=W-
B;0<k;)r=a[n++],null!==r&&(H(f,r),k--);if(X){n=h.slice(0);a=[];a.push(0);m=0;for(q=h.length;m<q;m++)if(-1!==h[m])if(k=a[a.length-1],h[k]<h[m])n[m]=k,a.push(m);else{k=0;for(p=a.length-1;k<p;)r=(k+p)/2|0,h[a[r]]<h[m]?k=r+1:p=r;h[m]<h[a[k]]&&(0<k&&(n[m]=a[k-1]),a[k]=m)}k=a.length;for(p=a[k-1];0<k--;)a[k]=p,p=n[p];p=a.length-1;for(k=l-1;0<=k;k--)-1===h[k]?(w=k+g,r=c[w],l=w+1,l=l<c.length?c[l].b:null,L(f,l,r,d,e)):0>p||k!==a[p]?(w=k+g,r=c[w],l=w+1,l=l<c.length?c[l].b:null,f.insertBefore(r.b,l)):p--}else if(B!==
l)for(k=l-1;0<=k;k--)-1===h[k]&&(w=k+g,r=c[w],l=w+1,l=l<c.length?c[l].b:null,L(f,l,r,d,e))}}}else{g=l=0;n=a.length-1;for(h=c.length-1;l<=n&&g<=h;){m=a[l];q=c[g];if(!M(m,q))break;l++;g++;N(f,m,q,d,e)}for(;l<=n&&g<=h;){m=a[n];q=c[h];if(!M(m,q))break;n--;h--;N(f,m,q,d,e)}for(;l<=n&&g<=h;)m=a[l++],q=c[g++],J(f,m,q,d,e);if(l<=n){do H(f,a[l++]);while(l<=n)}else if(g<=h){a=h+1;a=a<c.length?c[a].b:null;do L(f,a,c[g++],d,e);while(g<=h)}}else if(0<a.length)for(J(f,a[0],c,d,e),g=1;g<a.length;g++)H(f,a[g]);else L(f,
null,c,d,e);else if(g&32)if(h&144)h&16?f.textContent=c:f.innerHTML=c,E(a);else if(h&64)if(0<c.length)for(J(f,a,c[0],d,e),g=1;g<c.length;g++)L(f,null,c[g],d,e);else H(f,a);else J(f,a,c,d,e);else"string"===typeof c?f.value!==c&&(f.value=c):f.checked=c}}else f&8?(e=c.a=a.a,b=c.h,f=e.h,e.C(f,b)?(e.c|=1,e.h=b,e.ia(f,b),e.c&128&&(e.c|=4)):e.h=b,ka(e,d),b=c.b=la(e)):b=c.b=ma(b,a,c,d,e);return b}function J(b,a,c,d,e){if(M(a,c))return N(b,a,c,d,e);d=K(b,c,d,e);b.replaceChild(d,a.b);E(a);D(c);return d}
var pa=0,O=[],ra=[],sa=document.createTextNode(""),ta="__ivi"+Math.random();(new MutationObserver(ua)).observe(sa,{characterData:!0});window.addEventListener("message",va);function va(b){if(b.source===window&&b.data===ta){b=ra;ra=[];for(var a=0;a<b.length;a++)b[a]();pa++}}function ua(){for(;0<O.length;){var b=O;O=[];for(var a=0;a<b.length;a++)b[a]();pa++}}var P=[];
function wa(b,a){var c;c=void 0===c?ga:c;var d;a:{for(d=0;d<P.length;d++){var e=P[d];if(e.aa===a){d=e;break a}}d=void 0}b?d?(c=J(a,d.L,b,c),d.L=b,d.ba=c):(c=L(a,null,b,c),P.push({aa:a,L:b,ba:c}),ca&1&&(a.onclick=da)):d&&(H(a,d.L),b=P.pop(),b!==d&&P.length&&(P[P.indexOf(d)]=b))}function xa(b,a,c,d){this.min=b;this.max=a;this.S=c;this.R=d}function Q(){this.u=[];this.ca=100;this.o=-1}function ya(b,a){b.o=(b.o+1)%b.ca;b.u[b.o]=a}
function za(b,a){for(var c=b.u,d=0;d<c.length;d++)a(c[(b.o+1+d)%c.length],d)}function Aa(b){var a=b.u;if(0===a.length)return new xa(0,0,0,0);for(var c=a[(b.o+1)%a.length],d=c,e=0,f=0;f<a.length;f++){var g=a[(b.o+1+f)%a.length];g<c&&(c=g);g>d&&(d=g);e+=g}return new xa(c,d,e/a.length,a[b.o])}var Ba=[],Ca=-1;function Da(b){Ba.push(b);-1===Ca&&requestAnimationFrame(function(){Ca=-1;var a=Ba;Ba=[];for(var b=0;b<a.length;b++)a[b]()})}
function Ea(b){var a=this;this.$=function(){a.V();a.K=!1};this.name=b;this.element=document.createElement("div");this.element.style.cssText="padding: 2px;background-color: #020;font-family: monospace;font-size: 12px;color: #0f0";this.K=!1;R(this)}function R(b){b.K||(b.K=!0,Da(b.$))}Ea.prototype.V=function(){throw Error("sync method not implemented");};var S,T=S||(S={});T[T.HideMin=1]="HideMin";T[T.HideMax=2]="HideMax";T[T.HideMean=4]="HideMean";T[T.HideLast=8]="HideLast";T[T.HideGraph=16]="HideGraph";
T[T.RoundValues=32]="RoundValues";
function U(b,a,c,d){Ea.call(this,b);this.c=a;this.I=c;this.u=d;b=document.createElement("div");b.style.cssText="text-align: center";b.textContent=this.name;c=document.createElement("div");0===(a&S.N)?(this.H=document.createElement("div"),c.appendChild(this.H)):this.H=null;0===(a&S.Y)?(this.F=document.createElement("div"),c.appendChild(this.F)):this.F=null;0===(a&S.M)?(this.G=document.createElement("div"),c.appendChild(this.G)):this.G=null;0===(a&S.ea)?(this.D=document.createElement("div"),c.appendChild(this.D)):
this.D=null;this.element.appendChild(b);this.element.appendChild(c);0===(a&S.da)?(this.canvas=document.createElement("canvas"),this.canvas.style.cssText="display: block; padding: 0; margin: 0",this.canvas.width=100,this.canvas.height=30,this.s=this.canvas.getContext("2d"),this.element.appendChild(this.canvas)):this.s=this.canvas=null}aa(U,Ea);
U.prototype.V=function(){var b=this,a=Aa(this.u),c=30/(1.2*a.max),d,e,f;0===(this.c&S.Z)?(d=a.min.toFixed(2),e=a.max.toFixed(2),f=a.S.toFixed(2),a=a.R.toFixed(2)):(d=Math.round(a.min).toString(),e=Math.round(a.max).toString(),f=Math.round(a.S).toString(),a=Math.round(a.R).toString());null!==this.H&&(this.H.textContent="min: \u00a0"+d+this.I);null!==this.F&&(this.F.textContent="max: \u00a0"+e+this.I);null!==this.G&&(this.G.textContent="mean: "+f+this.I);null!==this.D&&(this.D.textContent="last: "+
a+this.I);null!==this.s&&(this.s.fillStyle="#010",this.s.fillRect(0,0,100,30),this.s.fillStyle="#0f0",za(this.u,function(a,d){b.s.fillRect(d,30,1,-(a*c))}))};var V=null;function Fa(){V||(V=document.createElement("div"),V.style.cssText="position: fixed;opacity: 0.9;right: 0;bottom: 0",document.body.appendChild(V))}
function Ga(){var b;function a(b){0<f&&(g+=e*(1E3/(b-f)-g));f=b;ya(c,g);R(d);requestAnimationFrame(a)}b=void 0===b?S.N|S.Y|S.M|S.Z:b;Fa();var c=new Q,d=new U("FPS",b,"",c);V.appendChild(d.element);var e=2/121,f=0,g=60;requestAnimationFrame(a)}function Ha(){var b;function a(){ya(c,Math.round(performance.memory.usedJSHeapSize/1048576));R(d);setTimeout(a,30)}b=void 0===b?S.N|S.M:b;Fa();if(void 0!==performance.memory){var c=new Q,d=new U("Memory",b,"MB",c);V.appendChild(d.element);a()}}
function Ia(b,a){this.data=new Q;this.X=new U(b,a,"ms",this.data);this.startTime=-1}var Y={};function Ja(b){var a;a=void 0===a?0:a;Fa();var c=Y[b];void 0===c&&(Y[b]=c=new Ia(b,a),V.appendChild(c.X.element))}function Ka(b){b=Y[b];void 0!==b&&(b.startTime=performance.now())}function La(b){var a=performance.now();b=Y[b];void 0!==b&&-1!==b.startTime&&(ya(b.data,a-b.startTime),R(b.X))}function Ma(){return"#"+Math.floor(16777215*Math.random()).toString(16)}
function Na(){for(var b=Array(1E4),a=0;1E4>a;a++)b[a]=Ma();return b}function Z(b){return v("span","pixel").style("background:"+b)}Z.prototype.U?Z.prototype.C=ea:Z.C=ea;function Image(b){for(var a=Array(100),c=0;100>c;c++){var d=100*c,e=Array(100);a[c]=v("div","row").children(e);for(var f=0;100>f;f++)e[f]=x(Z,b[d+f])}return v("div","image").children(a)}
document.addEventListener("DOMContentLoaded",function(){function b(){Ka("data update");var c=a;if(0<c)if(1===c)for(c=0;1E4>c;c++)e[c]=Ma();else for(var d=0;1E4>d;d++)Math.random()<c&&(e[d]=Ma());La("data update");Ka("view update");wa(x(Image,e),f);La("view update");requestAnimationFrame(b)}Ga();Ha();Ja("data update");Ja("view update");var a=.5,c=document.createElement("div");c.style.margin="0 auto";c.style.width="80%";var d=document.createElement("input");d.type="range";d.style.width="100%";d.addEventListener("change",
function(b){a=Number.parseFloat(b.target.value)/100});c.appendChild(d);document.body.insertBefore(c,document.body.firstChild);var e=Na(),f=document.getElementById("app");wa(x(Image,e),f);requestAnimationFrame(b)});}).call(this);
