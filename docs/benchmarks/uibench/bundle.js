!function(){"use strict";const e=void 0,n=e=>({v:e}),t={},l={},o={},r=[];let i=!1;function c(e){return function(){if(!i)try{return e.apply(void 0,arguments)}catch(n){throw i=!0,r.forEach(e=>{e(n)}),n}}}function f(e,n){const t=e.length-1,l=e.pop();n!==t&&(e[n]=l)}const s=()=>{};function u(e){for(let n=0;n<e.length;++n)!0===e[n]()&&f(e,n--)}const a=(e,n)=>Object.getOwnPropertyDescriptor(e,n),d=Node.prototype,v=Element.prototype,h=document,p=Object.prototype.hasOwnProperty,y=d.insertBefore,g=d.removeChild,b=(d.replaceChild,d.cloneNode),m=v.setAttribute,A=(v.setAttributeNS,v.removeAttribute),k=a(d,"textContent").set,w=a(v,"className").set,x=a(HTMLElement.prototype,"style").get,N=a(SVGElement.prototype,"style").get,T="http://www.w3.org/2000/svg",j=(e,n)=>({f:e,d:n}),E=j(16,null),O=j(8,null),P=(e,n)=>({t:e,d:n}),C=(e,n)=>P(E,{v:e,c:n}),L=(e,n)=>({k:e,v:n}),S=e=>P(O,e);let M=null;function q(e,n){return M={n:M,d:e,v:n}}function B(e){return M=e}const D=e=>({o:e,f:0,c:null,s:null});let R,V;function F(){const e=V;return V=0,e}const G=(e,n)=>(n|=V,V|=e,n);function H(e){let n,t=e.f;if(0===(3&t)){if(e=e.c,0!==(136&t)){for(t=0;t<e.length;t++)if(null!==(n=e[t]))return H(n);return null}return null===e?null:H(e)}return e.s}function J(e,n,t,o){const r=n.f;let i,c,f,s;if(0!==(4&r))i=n.s,f=n.c,c=F(),0!==(256&r)&&(0!==(1024&r)||null!==i.s&&!0===i.s(l))?n.c=$(e,f,i.r(n.o.d),t,o):0!==(65536&r)?J(e,f,t,o):!0===t?z(e,n):R=H(n),n.f=52223&n.f|V,V|=c|(49152&n.f)<<2;else if(0!==(65536&r)){if(c=F(),f=n.c,0!==(3&r))i=n.s,!0===t&&y.call(e,i,R),J(i,f,!1,!0),R=i;else if(0!==(136&r))for(s=f.length;s>0;)null!==(i=f[--s])&&J(e,i,t,!1);else 0!==(16&r)?J(e,f,t,o):(i=B(n.s),J(e,f,t,o),B(i));n.f=G(c,n.f)}else!0===t?z(e,n):R=H(n)}function z(e,n){const t=n.f;let l,o,r;if(0!==(3&t))o=n.s,y.call(e,o,R),R=o;else if(l=n.c,0!==(136&t))for(r=l.length;r>0;)null!==(o=l[--r])&&z(e,o);else null!==l&&z(e,l)}function I(e){const n=e.f;let t,l,r;if(0!==(131072&n)&&null!==(t=e.c))if(0!==(136&n))for(l=0;l<t.length;l++)null!==(r=t[l])&&I(r);else I(t);if(0!==(32768&n)&&null!==(r=e.s.u))if("function"===typeof r)r(o);else for(l=0;l<r.length;l++)r[l](o)}function K(e,n,t){let l,o=n.f;if(0!==(3&o))g.call(e,n.s);else if(n=n.c,0!==(136&o))if(!0===t)k.call(e,"");else for(o=0;o<n.length;++o)null!==(l=n[o])&&K(e,l,!1);else null!==n&&K(e,n,t)}function Q(e,n,t){K(e,n,t),I(n)}function U(e,n,t){const l=h.createTextNode(t);y.call(e,l,R),R=l,n.s=l,n.f=1}function W(e,n){const t=n.t,l=0!==(512&t.f),{n:o,a:r}=n.d;if(void 0===e){const n=t.d;e=l?h.createElementNS(T,n):h.createElement(n)}return o&&ne(e,o,l),void 0!==r&&le(e,void 0,r,l),e}function X(e,n,t){const{t:l,d:o}=t,r=l.f;let i,c,f,s,u;if(0!==(4&r))i=F(),0!==(256&r)?(n.s=c={r:null,s:null,u:null},c.r=f=l.d.c(n)):f=l.d.c,n.c=Z(e,f(o)),n.f=52223&n.f|r|V,V|=i|(49152&n.f)<<2;else{if(i=F(),0!==(2&r))f=l.d,0!==(64&r)&&(null===(s=f.n)&&(f.n=s=W(void 0,f.p)),s=b.call(s,!1)),n.s=s=W(s,t),c=R,null!==(f=o.c)&&(R=null,n.c=Z(s,f)),R=s,y.call(e,s,c);else if(0!==(48&r))0!==(32&r)?(n.s=c=0!==(8192&r)?B(o.v):q(l.d,o.v),n.c=Z(e,o.c),B(c)):n.c=Z(e,o.c);else for(u=o.length,n.c=f=Array(u);u>0;)f[--u]=Z(e,o[u].v);n.f=G(i,r)}}function Y(e,n,t){let l=t.length;const o=Array(l),r=F();for(;l>0;)o[--l]=Z(e,t[l]);n.c=o,n.f=G(r,128)}function Z(e,n){if(null!==n){const t=D(n);return"object"===typeof n?n instanceof Array?Y(e,t,n):X(e,t,n):U(e,t,n),t}return null}function $(e,n,t,l,o){if(null===t)return null!==n&&Q(e,n,o),null;if(null===n)return Z(e,t);const{f:r,o:i,s:c}=n;if(0!==(1&r)){if("object"===typeof t)return g.call(e,c),Z(e,t);n.o=t,i!==t&&(c.nodeValue=t),!0===l&&y.call(e,c,R),R=c}else{if(i===t)return J(e,n,l,o),n;if(0!==(128&r)?!(t instanceof Array):t instanceof Array||i.t!==t.t)return Q(e,n,o),Z(e,t);n.o=t;const f=n.c;let s,u,a,d,v;if(0!==(4&r))u=i.d,a=t.d,d=t.t.d,0!==(1024&r)||u!==a&&(void 0===d.e||!0===d.e(u,a))?(s=F(),n.c=$(e,f,0!==(256&r)?c.r(a):d.c(a),l,o),d=n.f,n.f=52223&d|V,V|=s|(49152&d)<<2):J(e,n,l,o);else{if(s=F(),0!==(2&r))v=0!==(512&r),u=i.d,a=t.d,!0===l&&y.call(e,c,R),d=a.n,u.n!==d&&(void 0===d&&(d=""),ne(c,d,v)),d=a.a,u.a!==d&&le(c,u.a,d,v),R=null,n.c=$(c,f,a.c,!1,!0),R=c;else if(0!==(136&r))if(0!==(128&r))if(0===(v=t.length))Q(e,n,o);else{if(v!==(u=f.length)){for(n.c=d=Array(v);u>v;)null!==(a=f[--u])&&Q(e,a,!1);for(;v>u;)d[--v]=Z(e,t[v])}else d=f;for(;v>0;)d[--v]=$(e,f[v],t[v],l,!1)}else _(e,n,i.d,t.d,l,o);else 0!==(16&r)?n.c=$(e,f,t.d.c,l,o):(a=t.d,0!==(8192&r)?n.s=a.v:c.v=a.v,d=B(n.s),n.c=$(e,f,a.c,l,o),B(d));n.f=G(s,r)}}return n}function _(e,n,t,l,o,r){let i=l.length,c=t.length;const f=Array(i);if(0===i)c>0&&Q(e,n,r);else if(0===c)for(;i>0;)f[--i]=Z(e,l[i].v);else{const s=n.c;let u=c-1,a=i-1,d=0,v=l[a];e:for(;;){for(;t[u].k===v.k;){if(f[a]=$(e,s[u--],v.v,o,!1),d>--a||d>u)break e;v=l[a]}for(;t[d].k===l[d].k&&++d<=u&&d<=a;);break}if(d>u)for(;a>=d;)f[a]=Z(e,l[a--].v);else if(d>a){i=d;do{null!==(v=s[i++])&&Q(e,v,!1)}while(i<=u)}else{let h=0,p=0;const y=u-d+1,g=a-d+1,b=Array(g),m=new Map;for(i=0;i<g;++i)c=i+d,b[i]=-1,m.set(l[c].k,c);for(i=d;i<=u&&p<g;++i)void 0!==(c=m.get(t[i].k))&&(h=h<c?c:99999999,++p,b[c-d]=i,f[c]=s[i],s[i]=null);if(y===t.length&&0===p)for(Q(e,n,r);a>=0;)f[a]=Z(e,l[a--].v);else{for(i=d;i<=u;i++)null!==(v=s[i])&&Q(e,v,!1);if(i=g,!0===o||99999999!==h)for(;i>0;)v=l[h=--i+d].v,f[h]=-1===b[i]?Z(e,v):$(e,f[h],v,o,!1);else{const n=ee(b);for(c=n.length-1;i>0;)v=l[h=--i+d].v,-1===b[i]?f[h]=Z(e,v):(c<0||i!==n[c]?o=!0:--c,f[h]=$(e,f[h],v,o,!1),o=!1)}}}for(;d>0;)f[--d]=$(e,s[d],l[d].v,o,!1)}n.c=f}function ee(e){const n=e.slice(),t=[];let l,o,r,i=0,c=0;for(t[0]=0;c<e.length;++c){const f=e[c];if(f>-1)if(e[r=t[i]]<f)n[c]=r,t[++i]=c;else{for(l=0,o=i;l<o;)e[t[r=l+o>>1]]<f?l=r+1:o=r;f<e[t[l]]&&(l>0&&(n[c]=t[l-1]),t[l]=c)}}for(o=t[i];i>=0;)t[i--]=o,o=n[o];return t}function ne(e,n,t){!0===t?m.call(e,"class",n):w.call(e,n)}function te(e,n,t,l){const o=!0===l?N.call(e):x.call(e);let r,i;if(void 0===n)for(r in t)void 0!==(i=t[r])&&o.setProperty(r,i);else if(void 0===t)for(r in n)void 0!==n[r]&&o.removeProperty(r);else{let e=0,l=0;for(r in n)n[r]!==(i=!0===p.call(t,r)?(e++,t[r]):void 0)&&(void 0!==i?o.setProperty(r,i):o.removeProperty(r));const c=Object.keys(t);for(;e<c.length&&l<c.length;++l)r=c[l],!1===p.call(n,r)&&(i=t[r],++e,void 0!==i&&o.setProperty(r,t[r]))}}function le(e,n,t,l){let o;if(void 0===n)for(o in t)oe(e,o,void 0,t[o],l);else if(void 0===t)for(o in n)oe(e,o,n[o],void 0,l);else{let r=0,i=0;for(o in n)oe(e,o,n[o],!0===p.call(t,o)?(r++,t[o]):void 0,l);const c=Object.keys(t);for(;r<c.length&&i<c.length;++i)o=c[i],!1===p.call(n,o)&&(oe(e,o,void 0,t[o],l),++r)}}function oe(e,n,t,l,o){"style"!==n?"object"===typeof l?l.u(e,n,void 0===t?void 0:t.v,l.v):"object"===typeof t?t.u(e,n,t.v,void 0):t!==l&&("boolean"===typeof l&&(l=l?"":void 0),void 0===l?void 0!==t&&!1!==t&&A.call(e,n):m.call(e,n,l)):t!==l&&te(e,t,l,o)}const re=[],ie=e=>re.find(e);function ce(){for(let e=0;e<re.length;++e){const n=re[e],{container:t,state:l,next:o}=n;R=null,V=0,void 0!==o?(n.next=void 0,n.state=$(t,l,o,!1,!0)):null!==l&&J(t,l,!1,!0)}}function fe(e){for(;e.v.length>0;){const n=e.v;e.v=[];for(let e=0;e<n.length;++e)n[e](t)}}let se=0;const ue=Promise.resolve(),ae=n([]),de=n([]),ve=n([]),he=[],pe=[],ye=e=>c(function(){se|=1,e.apply(void 0,arguments),fe(ae),se&=-4}),ge=ye(s),be=e=>ye(n=>{se|=16,e(n),0!==(4&se)&&(u(he),0!==(32&se)&&ce(),fe(de),u(pe),fe(ve)),se&=-61}),me=be(s),Ae=()=>{me()};function ke(e){var n;void 0!==e&&0!==(1&e)&&0===(8&se)?0===(16&(se|=12))&&(n=Ae,ae.v.push(n),0===(3&se)&&(se|=2,ue.then(ge))):0===(4&se)&&0===(16&(se|=4))&&requestAnimationFrame(me)}function we(e){se|=32,ke(e)}function xe(e,n,t){const l=ie(e=>e.container===n);l?l.next=e:re.push({container:n,state:null,next:e}),we(t)}function Ne(e,n){const t=j(n,e);return(e,n,l=null)=>P(t,{n:e,a:n,c:l})}const Te=e=>Ne(e,2);function je(e,n){const t=j(4,{c:e,e:n});return e=>P(t,e)}function Ee(e,n){const t=[],l=ie(n=>n.container.contains(e));if(l){const o=l.container;o!==e&&Oe(t,n,e,o,l.state)}return t}function Oe(e,n,t,l,o){const r=t.parentNode;return r===l||null!==(o=Oe(e,n,r,l,o))?Pe(e,n,t,o):null}function Pe(e,n,t,l){if(null!==l){const{f:o,c:r}=l;let i;if(0!==(2&o)){if(l.s===t)return l;if(null!==r)return Pe(e,n,t,r)}else if(0!==(52&o)){if(null!==(i=Pe(e,n,t,l.c)))return 0!==(16&o)&&Ce(e,l,l.o.d.v,n),i}else if(0!==(136&o))for(let l=0;l<r.length;l++)if(null!==(i=Pe(e,n,t,r[l])))return i}return null}function Ce(e,n,t,l){if(null!==t)if(t instanceof Array){let o=t.length;for(;--o>=0;)Ce(e,n,t[o],l)}else{const o=t.d.s;("function"===typeof o&&!0===o(l)||o===l)&&e.push({t:n,h:t})}}function Le(e,n,t){const l=Ee(n,e);let o,r,i=l.length;if(i>0){for(;--i>=0;)if(0!==(1&(r=(o=l[i]).h.d).f)&&!0===r.h(t,o,e))return;for(;++i<l.length;)if(0===(1&(r=(o=l[i]).h.d).f)&&!0===r.h(t,o,e))return}}const Se=(e,n,t)=>n.h.h(e,n.t,t),Me=function(e){const n={s:e,h:Se,f:0},t={s:e,h:Se,f:1};return(e,l)=>({d:!0===l?t:n,h:e})}(function(e,n=!0){const t={next:e=>{Le(t,e.target,e)}};return h.addEventListener("click",ye(e=>{t.next(e)}),n),t}()),qe=Te("div"),Be=Te("li"),De=Ne("pre",2050),Re=Te("table"),Ve=Te("tbody"),Fe=Te("td"),Ge=Te("tr"),He=Te("ul"),Je=je(n=>C(Me(()=>{console.log("Click",n)}),Fe("TableCell",e,n))),ze=je(({id:e,active:n,props:t})=>Ge(n?"TableRow active":"TableRow",{"data-id":e},[Je("#"+e),t.map(e=>Je(e))])),Ie=je(n=>Re("Table",e,Ve(e,e,S(n.items.map(e=>L(e.id,ze(e))))))),Ke=je(({id:e,time:n})=>qe("AnimBox",{"data-id":e,style:{background:"rgba(0,0,0,"+(.5+n%10/10)+")","border-radius":n%10+"px"}})),Qe=je(n=>qe("Anim",e,S(n.items.map(e=>L(e.id,Ke(e)))))),Ue=je(n=>Be("TreeLeaf",e,n.id)),We=je(n=>He("TreeNode",e,S(n.children.map(e=>L(e.id,e.container?We(e):Ue(e)))))),Xe=je(n=>qe("Tree",e,We(n.root)));function Ye(e){switch(e.location){case"table":return Ie(e.table);case"anim":return Qe(e.anim);default:return Xe(e.tree)}}const Ze=je(n=>qe("Main",e,n?Ye(n):null));uibench.init("ivi","0.26.0"),document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector("#App");xe(Ze(),n),uibench.run(e=>be(()=>{xe(Ze(e),n)})(),t=>{xe(De(e,e,JSON.stringify(t,void 0,2)),n)})})}();
