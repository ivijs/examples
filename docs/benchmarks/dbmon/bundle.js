!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([,function(t,e,n){"use strict";n.r(e);const o=(t,e)=>({flags:t,descriptor:e}),i=(o(16,null),o(128,null),o(32,null),o(1032,null)),l=(t,e)=>({type:t,data:e}),r=(t,e)=>({k:t,v:e}),a=t=>l(i,t);function s(t,e){const n=o(!0===e?514:2,t);return(t,e,o=null)=>l(n,{className:t,attrs:e,children:o})}const c=t=>s(t,!1),u=Node.prototype,d=Element.prototype,f=Object.prototype.hasOwnProperty,p=u.insertBefore,h=u.removeChild,m=(u.replaceChild,u.cloneNode),v=d.setAttribute,y=(d.setAttributeNS,d.removeAttribute),g=void 0;let x={};function b(t){const e=x;return x=t,e}function w(t){x=t}function M(){return x}function T(t,e){const n=t.length-1,o=t.pop();e!==n&&(t[e]=o)}function C(t,e){const n=t.indexOf(e);T(t,n)}function _(t){for(let e=0;e<t.length;++e)!0===t[e]()&&T(t,e--)}const E=()=>{},O=[];function S(t){return function(){try{return t.apply(void 0,arguments)}catch(e){throw O.forEach(t=>{t(e)}),e}}}(()=>{let t=!1;try{const n=Object.defineProperty({},"passive",{get(){t=!0}});window.addEventListener("test",null,n)}catch(e){}})(),KeyboardEvent.prototype.hasOwnProperty("key"),MouseEvent.prototype.hasOwnProperty("buttons"),window,window,window;const j="GestureEvent"in window,k="http://www.w3.org/2000/svg",H=t=>({op:t,flags:0,children:null,state:null});function P(t){if(0===(3&t.flags)){const e=t.children;return null===e?null:P(e)}return t.state}let N,F,A,q,L=!1,R=!1;function B(){const t=A;return A=0,t}function U(t,e){const n=e|A;return A|=t,n}function V(t,e){const{flags:n,children:o}=e;let i,l,r;if(0!==(4&n)){const r=e.state;l=B(),0!==(256&n)&&(0!==(2048&n)||null!==r.dirtyCheck&&!0===r.dirtyCheck(M()))?e.children=X(t,o,r.update(e.op.data)):0!==(16384&n)?V(t,o):null!==(i=P(e))&&(!0===L&&(L=!1,p.call(t,i,N)),N=i),e.flags=14335&e.flags|A,A|=l|(12288&e.flags)<<2}else if(0!==(16384&n)){if(l=B(),0!==(3&n)){if(i=e.state,!0===L&&(L=!1,p.call(t,i,N)),null!==o)if(0!==(1024&n))for(r=0;r<o.length;r++){const t=o[r];null!==t&&V(i,t)}else R=!0,V(i,o),R=!1;N=i}else if(0!==(8&n))for(r=o.length;--r>=0;)V(t,o[r]);else if(0!==(144&n))V(t,e.children);else{!0===q&&(e.state=Object.assign({},M(),e.op.data.data));const n=b(e.state);V(t,e.children),w(n)}e.flags=U(l,e.flags)}else null!==(i=P(e))&&(!0===L&&(L=!1,p.call(t,i,N)),N=i)}function G(t){const e=t.flags;let n;if(0!==(32768&e)){const o=t.children;if(null!==o)if(0!==(1024&e))for(n=0;n<o.length;n++){const t=o[n];"object"===typeof t&&null!==t&&G(t)}else G(o)}if(0!==(8192&e)){const e=t.state.unmount;if(null!==e)if("function"===typeof e)e();else for(n=0;n<e.length;n++)e[n](!0)}}function I(t,e){let n;0!==(8&e.flags)?Q(t,e.children):(null!==(n=P(e))&&h.call(t,n),G(e))}function Q(t,e){let n=0;if(!0===R)for(t.textContent="";n<e.length;)G(e[n++]);else for(;n<e.length;)I(t,e[n++])}function z(t,e,n){const o=document.createTextNode(n);p.call(t,o,N),N=o,e.state=o,e.flags=1}function D(t,e){const n=e.type,o=0!==(512&n.flags);if(void 0===t){const e=n.descriptor;t=o?document.createElementNS(k,e):document.createElement(e)}const{className:i,attrs:l}=e.data;return i&&(o?v.call(t,"class",i):t.className=i),void 0!==l&&nt(t,void 0,l),t}function J(t,e,n){const o=n.type,i=n.data,l=o.flags;let r;if(0!==(4&l)){let o;r=B();const a=(o=0!==(256&l)?(e.state={update:null,dirtyCheck:null,unmount:null}).update=n.type.descriptor.c(e):n.type.descriptor.c)(i);e.children=W(t,a),e.flags=14335&e.flags|l|A,A|=r|(12288&e.flags)<<2}else{if(r=B(),0!==(2&l)){let r;const a=o.descriptor;0!==(64&l)&&(null===(r=a.node)&&(a.node=r=D(void 0,a.proto)),r=m.call(r,!1)),r=D(r,n);let s=null;const c=i.children,u=N;N=null,null!==c&&(c instanceof Array?(e.flags|=1024,K(r,c,s=[])):s=W(r,c)),p.call(t,r,u),e.children=s,e.state=r,N=r}else if(0!==(176&l))if(0!==(32&l)){const n=b(e.state=Object.assign({},M(),i.data));e.children=W(t,i.child),w(n)}else 0!==(128&l)&&(i.data.v=e),e.children=W(t,i.child);else{let n=i.length;const o=Array(n);for(e.children=o;--n>=0;)o[n]=W(t,i[n].v)}e.flags=U(r,e.flags|l)}}function K(t,e,n){let o=e.length;for(;--o>=0;){const i=e[o];i instanceof Array?K(t,i,n):n.push(W(t,i))}}function W(t,e){if(null!==e){const n=H(e);return"object"===typeof e?J(t,n,e):z(t,n,e),n}return null}function X(t,e,n){if(null===n)return null!==e&&I(t,e),null;if(null===e)return W(t,n);const o=e.op;if(o===n)return V(t,e),e;if(typeof o!==typeof n||"object"===typeof o&&o.type!==n.type)return I(t,e),W(t,n);e.op=n;const i=e.flags,l=e.state;let r;if(0!==(1&i))l.nodeValue=n;else{const a=e.children,s=o.data,c=n.data;if(0!==(4&i)){const o=n.type.descriptor;if(0!==(2048&i)||s!==c&&(void 0===o.shouldUpdate||!0===o.shouldUpdate(s,c))){r=B();const n=0!==(256&i)?e.state.update(c):o.c(c);e.children=X(t,a,n),e.flags=14335&e.flags|A,A|=r|(12288&e.flags)<<2}else V(t,e)}else{if(r=B(),0!==(2&i)){!0===L&&(L=!1,p.call(t,l,N));let n=c.className;s.className!==n&&(void 0===n&&(n=""),0!==(512&i)?v.call(l,"class",n):l.className=n),s.attrs!==c.attrs&&nt(l,s.attrs,c.attrs);const o=c.children;s.children!==o&&(N=null,0!==(1024&i)?(F=0,Y(l,a,o)):(R=!0,e.children=null===a?W(l,o):X(l,a,o),R=!1)),N=l}else if(0!==(8&i))Z(t,e,s,c);else if(0!==(144&i))e.children=X(t,a,c.child);else{const n=q;s.data===c.data&&!0!==q||(e.state=Object.assign({},M(),c.data),q=!0);const o=b(e.state);X(t,a,c.child),w(o),q=n}e.flags=U(r,e.flags)}}return e}function Y(t,e,n){let o=n.length;for(;--o>=0;){let i=F;const l=n[o];if(l instanceof Array)Y(t,e,l);else{const n=e[i];e[i]=null===n?W(t,l):X(t,n,l),F=++i}}}function Z(t,e,n,o){const i=e.children,l=Array(o.length);let r;if(e.children=l,0===o.length)i.length>0&&Q(t,i);else if(0===i.length)for(r=o.length;--r>=0;)l[r]=W(t,o[r].v);else{let e,a,s=n[0],c=o[0],u=n.length-1,d=o.length-1,f=n[u],p=o[d],h=0;t:for(;;){for(;f.k===p.k;){if(l[d]=X(t,i[u--],p.v),h>--d||h>u)break t;f=n[u],p=o[d]}for(;s.k===c.k;){if(++h>u||h>d)break t;s=n[h],c=o[h]}break}if(h>u)for(;d>=h;)l[d]=W(t,o[d--].v);else if(h>d){r=h;do{I(t,a=i[r++])}while(r<=u)}else{const s=u-h+1,c=d-h+1,f=i,p=Array(c);for(r=0;r<c;++r)p[r]=-1;let m=0,v=0;const y=new Map;for(e=h;e<=d;++e)y.set(o[e].k,e);for(r=h;r<=u&&v<c;++r)void 0!==(e=y.get(n[r].k))&&(m=m>e?1e6:e,++v,p[e-h]=r,l[e]=i[r],f[r]=null);if(s===n.length&&0===v)for(Q(t,i);d>=0;)l[d]=W(t,o[d--].v);else{for(r=h;r<=u;r++)null!==(a=i[r])&&I(t,a);let n;if(1e6===m){const i=$(p);for(e=i.length-1,r=c;--r>=0;)n=o[m=h+r].v,-1===p[r]?l[m]=W(t,n):(a=l[m],e<0||r!==i[e]?L=!0:--e,l[m]=X(t,a,n),L=!1)}else for(r=c;--r>=0;)n=o[m=h+r].v,l[m]=-1===p[r]?W(t,n):X(t,l[m],n)}}for(;--h>=0;)l[h]=X(t,i[h],o[h].v)}}function $(t){const e=t.slice(),n=[];n[0]=0;let o,i,l,r=0;for(let a=0;a<t.length;++a){const s=t[a];if(-1!==s)if(t[l=n[r]]<s)e[a]=l,n[++r]=a;else{for(o=0,i=r;o<i;)t[n[l=(o+i)/2|0]]<s?o=l+1:i=l;s<t[n[o]]&&(o>0&&(e[a]=n[o-1]),n[o]=a)}}for(i=n[r];r>=0;)n[r--]=i,i=e[i];return n}function tt(t,e,n){const o=t.style;let i,l;if(void 0===e)for(i in n)void 0!==(l=n[i])&&o.setProperty(i,l);else if(void 0===n)for(i in e)o.removeProperty(i);else{let t=0;for(i in e)l=void 0,!0===f.call(n,i)&&(l=n[i],t++),e[i]!==l&&(void 0!==l?o.setProperty(i,l):o.removeProperty(i));const r=Object.keys(n);for(let l=0;t<r.length&&l<r.length;++l)i=r[l],!1===f.call(e,i)&&(o.setProperty(i,n[i]),++t)}}function et(t,e,n,o){"style"!==e?"object"===typeof o?o.u(t,e,void 0===n?void 0:n.v,o.v):n!==o&&("object"===typeof n?n.u(t,e,n.v,void 0):("boolean"===typeof o&&(o=o?"":void 0),void 0===o?y.call(t,e):v.call(t,e,o))):n!==o&&tt(t,n,o)}function nt(t,e,n){let o;if(void 0===e)for(o in n)et(t,o,void 0,n[o]);else if(void 0===n)for(o in e)et(t,o,e[o],void 0);else{let i=0;for(o in e){let l=void 0;!0===f.call(n,o)&&(l=n[o],i++),et(t,o,e[o],l)}const l=Object.keys(n);for(let r=0;i<l.length&&r<l.length;++r)o=l[r],!1===f.call(e,o)&&(et(t,o,void 0,n[o]),++i)}}const ot=[],it=t=>ot.find(e=>e.container===t);function lt(){for(let t=0;t<ot.length;++t){const e=ot[t],{container:n,state:o,next:i}=e;e.next=void 0,N=null,A=0,q=!1,i?o?e.state=X(n,o,i):(e.state=W(n,i),j&&(n.onclick=E)):o&&(null===i?(I(n,o),C(ot,e),--t):V(n,o))}}function rt(t){for(;t.v.length>0;){const e=t.v;let n=0;t.v=[];do{e[n++]()}while(n<e.length)}}let at=0,st=1;const ct={v:[]},ut={v:[]},dt={v:[]},ft=[],pt=[];let ht=0;const mt=t=>S(function(){at|=1,t.apply(void 0,arguments),rt(ct),at&=-4,++st}),vt=mt(E),yt=()=>st;function gt(t){var e;ct.v.push(t),0===(3&at)&&(at|=2,e=vt,Promise.resolve().then(e))}const xt=t=>mt(e=>{at|=16,t(e),0!==(4&at)&&(ht=void 0===e?performance.now():e,_(ft),0!==(32&at)&&lt(),rt(ut),_(pt),rt(dt)),at&=-61}),bt=xt(E);function wt(t){void 0!==t&&0!==(1&t)&&0===(8&at)?0===(16&(at|=12))&&gt(bt):0===(4&at)&&0===(16&(at|=4))&&requestAnimationFrame(bt)}function Mt(t){at|=32,wt(t)}function Tt(t,e,n){const o=it(e);o?o.next=t:ot.push({container:e,next:t,state:null}),Mt(n)}function Ct(t,e,n){const o=t.state.dirtyCheck;let i,l,r=0;return t.state.dirtyCheck=(t=>{if(null!==o&&!0===o(t))return!0;if(void 0!==i){const n=e(l,t,i);if(r=yt(),i!==n)return i=n,!0}return!1}),t=>(void 0!==i&&(void 0!==n&&!0===n(l,t)||l!==t)&&(i=void 0),(void 0===i||r<yt())&&(i=e(t,M(),i)),l=t,i)}const _t=c("div"),Et=c("span"),Ot=c("table"),St=c("tbody"),jt=c("td"),kt=c("tr");var Ht,Pt,Nt=100,Ft=function(t,e,n,o){this.min=t,this.max=e,this.mean=n,this.last=o},At=function(){function t(t){this.samples=[],this.maxSamples=t,this._i=-1}return t.prototype.addSample=function(t){this._i=(this._i+1)%this.maxSamples,this.samples[this._i]=t},t.prototype.each=function(t){for(var e=this.samples,n=0;n<e.length;n++)t(e[(this._i+1+n)%e.length],n)},t.prototype.calc=function(){var t=this.samples;if(0===t.length)return new Ft(0,0,0,0);for(var e=t[(this._i+1)%t.length],n=e,o=0,i=0;i<t.length;i++){var l=t[(this._i+1+i)%t.length];l<e&&(e=l),l>n&&(n=l),o+=l}var r=t[this._i],a=o/t.length;return new Ft(e,n,a,r)},t}(),qt=[],Lt=-1,Rt=(Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}Ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bt=30,Ut=Nt,Vt=function(){function t(t){var e=this;this._sync=function(){e.sync(),e._dirty=!1},this.name=t,this.element=document.createElement("div"),this.element.style.cssText="padding: 2px;background-color: #020;font-family: monospace;font-size: 12px;color: #0f0",this._dirty=!1,this.invalidate()}return t.prototype.invalidate=function(){var t;this._dirty||(this._dirty=!0,t=this._sync,qt.push(t),-1===Lt&&requestAnimationFrame(function(t){Lt=-1;var e=qt;qt=[];for(var n=0;n<e.length;n++)e[n]()}))},t.prototype.sync=function(){throw new Error("sync method not implemented")},t}();!function(t){t[t.HideMin=1]="HideMin",t[t.HideMax=2]="HideMax",t[t.HideMean=4]="HideMean",t[t.HideLast=8]="HideLast",t[t.HideGraph=16]="HideGraph",t[t.RoundValues=32]="RoundValues"}(Pt||(Pt={}));var Gt=function(t){function e(e,n,o,i){var l=t.call(this,e)||this;l.flags=n,l.unitName=o,l.samples=i;var r=document.createElement("div");r.style.cssText="text-align: center",r.textContent=l.name;var a=document.createElement("div");return 0===(n&Pt.HideMin)?(l.minText=document.createElement("div"),a.appendChild(l.minText)):l.minText=null,0===(n&Pt.HideMax)?(l.maxText=document.createElement("div"),a.appendChild(l.maxText)):l.maxText=null,0===(n&Pt.HideMean)?(l.meanText=document.createElement("div"),a.appendChild(l.meanText)):l.meanText=null,0===(n&Pt.HideLast)?(l.lastText=document.createElement("div"),a.appendChild(l.lastText)):l.lastText=null,l.element.appendChild(r),l.element.appendChild(a),0===(n&Pt.HideGraph)?(l.canvas=document.createElement("canvas"),l.canvas.style.cssText="display: block; padding: 0; margin: 0",l.canvas.width=Ut,l.canvas.height=Bt,l.ctx=l.canvas.getContext("2d"),l.element.appendChild(l.canvas)):(l.canvas=null,l.ctx=null),l}return Rt(e,t),e.prototype.sync=function(){var t,e,n,o,i=this,l=this.samples.calc(),r=Bt/(1.2*l.max);0===(this.flags&Pt.RoundValues)?(t=l.min.toFixed(2),e=l.max.toFixed(2),n=l.mean.toFixed(2),o=l.last.toFixed(2)):(t=Math.round(l.min).toString(),e=Math.round(l.max).toString(),n=Math.round(l.mean).toString(),o=Math.round(l.last).toString()),null!==this.minText&&(this.minText.textContent="min:  "+t+this.unitName),null!==this.maxText&&(this.maxText.textContent="max:  "+e+this.unitName),null!==this.meanText&&(this.meanText.textContent="mean: "+n+this.unitName),null!==this.lastText&&(this.lastText.textContent="last: "+o+this.unitName),null!==this.ctx&&(this.ctx.fillStyle="#010",this.ctx.fillRect(0,0,Ut,Bt),this.ctx.fillStyle="#0f0",this.samples.each(function(t,e){i.ctx.fillRect(e,Bt,1,-t*r)}))},e}(Vt),It=(function(t){function e(e,n){var o=t.call(this,e)||this;return o.counter=n,o.text=document.createElement("div"),o.element.appendChild(o.text),o}Rt(e,t),e.prototype.sync=function(){this.text.textContent=this.name+": "+this.counter.value}}(Vt),null);function Qt(){It||((It=document.createElement("div")).style.cssText="position: fixed;opacity: 0.9;right: 0;bottom: 0",document.body.appendChild(It))}function zt(t){void 0===t&&(t=Pt.HideMin|Pt.HideMax|Pt.HideMean|Pt.RoundValues),Qt();var e=new At(Nt),n=new Gt("FPS",t,"",e);It.appendChild(n.element);var o=0,i=60;requestAnimationFrame(function t(l){o>0&&(i+=2/121*(1e3/(l-o)-i)),o=l,e.addSample(i),n.invalidate(),requestAnimationFrame(t)})}function Dt(t){if(void 0===t&&(t=Pt.HideMin|Pt.HideMean),Qt(),void 0!==performance.memory){var e=new At(Nt),n=new Gt("Memory",t,"MB",e);It.appendChild(n.element),function t(){e.addSample(Math.round(performance.memory.usedJSHeapSize/1048576)),n.invalidate(),setTimeout(t,30)}()}}var Jt=function(t,e,n){this.data=new At(Nt),this.widget=new Gt(t,n,e,this.data),this.startTime=-1},Kt={};function Wt(t,e){void 0===e&&(e=0),Qt();var n=Kt[t];void 0===n&&(Kt[t]=n=new Jt(t,"ms",e),It.appendChild(n.widget.element))}function Xt(t){var e=performance.now(),n=Kt[t];void 0!==n&&-1!==n.startTime&&(n.data.addSample(e-n.startTime),n.widget.invalidate())}function Yt(t){return t>0?t>=10?"Query elapsed warn_long":t>=1?"Query elapsed warn":"Query elapsed short":""}function Zt(t){return t>=20?"label label-important":t>=10?"label label-warning":"label label-success"}let $t=.5,te=50;function ee(t){if(0===t.length)return{};const e={};for(let n=0;n<t.length;++n){const o=t[n].split("=",2);1===o.length?e[o[0]]="":e[o[0]]=decodeURIComponent(o[1].replace(/\+/g," "))}return e}function ne(){let t;return{elapsed:15*Math.random(),query:t=Math.random()<.1?"vacuum":Math.random()<.2?"<IDLE> in transaction":"SELECT blah FROM something"}}function oe(){const t=[],e=Math.floor(10*Math.random()+1);for(let n=0;n<e;n++)t.push(ne());return t}const ie={elapsed:0,query:"***"};let le=0;function re(t,e){return void 0===e&&(e=le++),{id:e,name:t,queries:oe()}}function ae(t){const e=t.queries.slice(0,5);for(e.sort((t,e)=>t.elapsed-e.elapsed);e.length<5;)e.push(ie);return e}function se(t,e){for(let n=0;n<t.length;n++)if(Math.random()<e){const{id:e,name:o}=t[n];t[n]=re(o,e)}}function ce(t){if(0===t)return"";if(t>60){const e=Math.floor(t/60),n=(t%60).toFixed(2).split(".");return e+":"+n[0]+"."+n[1]}return t.toFixed(2)}!function(){const t=ee(window.location.search.substr(1).split("&"));void 0!==t.n&&(te=parseInt(t.n,10)),void 0!==t.m&&($t=parseFloat(t.m)),document.addEventListener("DOMContentLoaded",()=>{zt(),Dt(),Wt("view update");const t=document.createElement("div");t.style.display="flex";const e=document.createElement("input");e.type="range",e.style.marginBottom="10px",e.style.marginTop="5px";const n=document.createElement("label");n.textContent="mutations : "+(100*$t).toFixed(0)+"%",e.addEventListener("change",t=>{$t=Number.parseFloat(t.target.value)/100,n.textContent="mutations : "+(100*$t).toFixed(0)+"%"}),t.appendChild(n),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild)})}();const ue=function(t){const e=[];for(let n=0;n<t;n++)e.push(re("cluster"+(n+1))),e.push(re("cluster"+(n+1)+" slave"));return e}(te),de=_t("arrow"),fe=function(t,e){const n=o(4,{c:t=>_t("popover left",g,[_t("popover-content",g,t),de]),shouldUpdate:void 0});return t=>l(n,t)}(),pe=function(t,e){const n=o(4356,{c:t=>{const e=Ct(t,t=>ue[t]);return t=>{const n=e(t),o=ae(n),i=n.queries.length;return kt(g,g,[jt("dbname",g,n.name),jt("query-count",g,Et(Zt(i),g,i)),o.map(t=>jt(Yt(t.elapsed),g,[ce(t.elapsed),fe(t.query)]))])}},shouldUpdate:void 0});return t=>l(n,t)}(),he=t=>Ot("table table-striped latest-data",g,[St(g,g,a(t.map((t,e)=>r(t.id,pe(e)))))]),me=document.getElementById("app");xt(()=>{Tt(he(ue),me)})(),setTimeout(function t(){var e;se(ue,$t),void 0!==(e=Kt["view update"])&&(e.startTime=performance.now()),xt(Mt)(),Xt("view update"),setTimeout(t,0)},0)}]);