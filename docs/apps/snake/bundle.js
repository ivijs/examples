!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([,function(t,e,r){"use strict";r.r(e);var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};function o(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}Object.assign,function(){try{var t=Object.defineProperty({},"passive",{get:function(){}});window.addEventListener("test",null,t)}catch(t){}}(),KeyboardEvent.prototype.hasOwnProperty("key"),MouseEvent.prototype.hasOwnProperty("buttons"),window,window,window;var i="GestureEvent"in window;function l(){}function a(t,e){var r=t.length-1,n=t.pop();e!==r&&(t[e]=n)}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};function u(t,e){function r(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function c(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function d(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)l.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return l}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}var h=[];function p(t){return function(){for(var e,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{return t.apply(void 0,v(n))}catch(t){try{for(var i=c(h),l=i.next();!l.done;l=i.next())(0,l.value)(t)}catch(t){e={error:t}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}throw t}}}var _=Node.prototype,y=Element.prototype,g=(Object.prototype.hasOwnProperty,_.insertBefore),w=_.removeChild,m=_.replaceChild,b=_.cloneNode,x=y.setAttribute,k=(y.setAttributeNS,y.removeAttribute),O="http://www.w3.org/2000/svg";function j(t,e){var r,n,o;if(null===t)A(e);else if(null===e)P(t);else if(t instanceof Array)if(e instanceof Array){for(r=0;r<t.length&&r<e.length;)(n=t[r])!==(o=e[r++])&&(null!==o&&S(o),null!==n&&D(n));for(;r<e.length;)null!==(n=e[r++])&&S(n);for(;r<t.length;)null!==(n=t[r++])&&D(n)}else for(S(e),r=0;r<t.length;++r)null!==(n=t[r])&&D(n);else A(e),D(t)}function A(t){if(t instanceof Array)for(var e=0;e<t.length;++e){var r=t[e];null!==r&&S(r)}else S(t)}function P(t){if(t instanceof Array)for(var e=0;e<t.length;++e){var r=t[e];null!==r&&D(r)}else D(t)}function S(t){t.src.add(t)}function D(t){t.src.remove(t)}var N=function(){function t(t,e,r,n,o){this._f=t,this._l=this,this._r=null,this._c=null,this._t=e,this._k=0,this._p=r,this._i=null,this._cs=n,this._s=o,this._e=null}return t.prototype.k=function(t){return this._f|=32,this._k=t,this},t.prototype.e=function(t){return null!==t&&(this._f|=128,this._e=t),this},t.prototype.c=function(){for(var t=arguments,e=null,r=null,n=0,o=0;n<t.length;++n,++o){var i=t[n];if(null!==i){"object"!=typeof i&&(i=E(i));var l=i._l,a=i._f;if(l===i)0==(32&a)&&(i._k=o);else if(0==(64&a)){var f=i;do{0==(32&f._f)&&(f._k=o),++o,f=f._r}while(null!==f);--o}null!==r?(i._l=r,r._r=i):e=i,r=l}}return null!==e&&(e._l=r,this._c=e),this},t}();function E(t){return new N(1,null,t,"",void 0)}function T(t){return 0!=(1560&t._f)?T(t._c):t._i}function C(t,e){w.call(t,T(e)),M(e)}function I(t){var e=t._f;0!=(16&e)&&t._i.attached();for(var r=t._c;null!==r;)I(r),r=r._r;0!=(128&e)&&A(t._e)}function M(t){for(var e=t._c;null!==e;)M(e),e=e._r;var r=t._f;if(0!=(16&r)){var n=t._i;n.flags|=1,n.detached()}0!=(128&r)&&P(t._e)}function F(t,e,r,n){var o,i,l=e._f;if((-2147482086&l)>0)if(o=e._c,0!=(2&l))for(i=e._i;null!==o;)F(i,o,r,n),o=o._r;else if(0!=(16&l))0!=(2&(i=e._i).flags)?(L(t,o,e._c=i.render(),r,n),i.flags&=-3,i.updated()):F(t,o,r,n);else if(0!=(512&l)){var a=e._t;i=e._i;var f=a.select(i,e._p,r);i===f?F(t,o,r,n):(e._i=f,L(t,o,e._c=a.render(f),r,n))}else 0!=(1024&l)&&(!0===n&&(e._i=s({},r,e._p)),r=e._i),F(t,o,r,n)}function B(t,e){t.textContent="";do{M(e),e=e._r}while(null!==e)}function G(t,e,r){var n,o=e._f,i=e._p,l=null;if(0!=(1&o))l=n=document.createTextNode(i);else{var a=e._t;if(0!=(18&o))if(0!=(2&o)){var f=0!=(256&o);0==(4&o)?n=f?document.createElementNS(O,a):document.createElement(a):(null===a._i&&G(t,a,r),n=b.call(a._i,!1)),l=n;var u=e._cs;""!==u&&(!0===f?x.call(n,"class",u):n.className=u),void 0!==i&&J(n,void 0,i),void 0!==e._s&&H(n,void 0,e._s);for(var c=e._c;null!==c;)g.call(n,G(n,c,r),null),c=c._r}else{var d=l=new a(i);n=G(t,e._c=d.render(),r)}else{if(0!=(1536&o))if(0!=(512&o)){var v=a,h=l=v.select(null,i,r);e._c=v.render(h)}else r=l=s({},r,i);else e._c=a.render(i);n=G(t,e._c,r)}}return e._i=l,n}function K(t,e,r,n){var o=G(t,r,n);return g.call(t,o,e),I(r),o}function L(t,e,r,n,o){if(e!==r){var i,l=e._f,a=r._f;if(0!=(1046335&(l^a))||0!=(540&l)&&e._t!==r._t||e._k!==r._k)i=G(t,r,n),m.call(t,i,T(e)),M(e),I(r);else{var f=e._p,u=r._p;if(r._i=i=e._i,0!=(1&a))f!==u&&(i.data=u);else{var c=e._c,d=r._c;if(e._e!==r._e&&j(e._e,r._e),0!=(18&a))if(0!=(2&a)){var v=r._cs;if(e._cs!==v&&(0!=(256&a)?x.call(i,"class",v):i.className=v),f!==u&&J(i,f,u),e._s!==r._s&&H(i,e._s,r._s),c!==d)if(null===c)do{K(i,null,d,n),d=d._r}while(null!==d);else null===d?B(i,c):R(i,c,d,n,o)}else f!==u&&i.propsChanged(f,u),i.props=u,0!=(2&i.flags)||!0===i.shouldUpdate(f,u)?(L(t,c,r._c=i.render(),n,o),i.flags&=-3,i.updated()):F(t,r._c=c,n,o);else if(0!=(1536&a))if(0!=(512&a)){var h=r._t,p=i,_=r._i=h.select(p,u,n);p===_?F(t,r._c=c,n,o):L(t,c,r._c=h.render(_),n,o)}else f!==u&&(o=!0),r._i=n=!0===o?s({},n,u):i,L(t,c,d,n,o);else{var y=r._t;f===u||0!=(2048&a)&&!0!==y.shouldUpdate(f,u)?F(t,r._c=c,n,o):L(t,c,r._c=y.render(u),n,o)}}}}else F(t,r,n,o)}function R(t,e,r,n,o){var i=e._l,l=r._l,a=0,f=0;t:for(;;){for(;e._k===r._k&&0==(32&(e._f^r._f));)if(L(t,e,r,n,o),f++,e===i?a=1:e=e._r,r===l?a|=2:r=r._r,a)break t;for(;i._k===l._k&&0==(32&(i._f^l._f));)if(L(t,i,l,n,o),f++,e===i?a=1:i=i._l,r===l?a|=2:l=l._l,a)break t;break}if(a){if(a<3)if(a<2)for(var u=U(l);K(t,u,r,n),r!==l;)r=r._r;else for(;C(t,e),e!==i;)e=e._r}else{for(var s=0,c=0,d=0,v=[],h=void 0,p=void 0,_=void 0,y=r;_=y._k,32&y._f?(void 0===h&&(h=new Map),h.set(_,c)):(void 0===p&&(p=new Map),p.set(_,c)),v[c++]=y,y!==l;)y=y._r;var w=new Array(c).fill(-1),m=0;for(y=e;_=y._k,void 0===(a=32&y._f?h?h.get(_):void 0:p?p.get(_):void 0)?y._k=null:(d=d>a?1e9:a,w[a]=s,L(t,y,v[a],n,o),m++),s++,y!==i;)y=y._r;if(f||m){for(a=s-m;a>0;)null===e._k&&(C(t,e),a--),e=e._r;if(1e9===d){var b=q(w);for(a=b.length-1;c>0;)w[--c]<0?K(t,U(l),l,n):a<0||c!==b[a]?g.call(t,T(l),U(l)):a--,l=l._l}else if(m!==c)for(;c>0;)w[--c]<0&&K(t,U(l),l,n),l=l._l}else{B(t,e);do{K(t,null,r,n),r=r._r}while(null!==r)}}}function U(t){var e=t._r;return null===e?null:T(e)}function q(t){var e=t.slice(),r=[];r[0]=0;for(var n,o,i,l=0,a=0;a<t.length;++a){var f=t[a];if(-1!==f)if(t[i=r[l]]<f)e[a]=i,r[++l]=a;else{for(n=0,o=l;n<o;)t[r[i=(n+o)/2|0]]<f?n=i+1:o=i;f<t[r[n]]&&(n>0&&(e[a]=r[n-1]),r[n]=a)}}for(o=r[l];l>=0;)r[l--]=o,o=e[o];return r}function H(t,e,r){var n,o,i=t.style;if(void 0===e)for(n in r)void 0!==(o=r[n])&&i.setProperty(n,o);else if(void 0!==r)for(n in r)o=r[n],e[n]!==o&&(void 0!==o?i.setProperty(n,o):i.removeProperty(n))}function z(t,e,r,n){r!==n&&("object"==typeof n?n.s(t,e,void 0===r?void 0:r.v,n.v):("boolean"==typeof n&&(n=n?"":void 0),void 0===n?k.call(t,e):x.call(t,e,n)))}function J(t,e,r){var n;if(void 0===e)for(n in r)z(t,n,void 0,r[n]);else if(void 0!==r)for(n in r)z(t,n,e[n],r[n])}var Q,V=[];function W(t){var e,r;try{for(var n=c(V),o=n.next();!o.done;o=n.next()){var i=o.value;if(i.container===t)return i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}}var X={},Y=0;function Z(t){Q(t)}function $(){for(var t=0;t<V.length;++t){var e=V[t],r=e.container,n=e.current,o=e.next;e.next=void 0,o?(n?L(r,n,o,X,!1):(K(r,null,o,X),i&&(r.onclick=l)),e.current=o):n&&(null===o?(C(r,n),a(V,V.indexOf(e)),--t):F(r,n,X,!1))}}function tt(t,e,r){var n,o;try{for(var i=c(V),l=i.next();!l.done;l=i.next()){var a=l.value,f=a.container,u=a.current;if(f.contains(e)){et(t,r,e,f,u);break}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}function et(t,e,r,n,o){var i=r.parentNode;if(i!==n)for(var l=(o=et(t,e,i,n,o))._c;null!==l;){var a=rt(t,e,r,l);if(a)return a;l=l._r}return rt(t,e,r,o)}function rt(t,e,r,n){var o,i=n._f;if(2&i){if(n._i===r)return nt(t,n,e),n}else if(1560&i&&(o=rt(t,e,r,n._c)))return nt(t,n,e),o;return null}function nt(t,e,r){var n,o,i=e._e;if(i){var l=void 0;if(i instanceof Array){var a=0;try{for(var f=c(i),u=f.next();!u.done;u=f.next()){var s=u.value;null!==s&&!0===r(s)&&(0===a?l=s:1===a?l=[l,s]:l.push(s),++a)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}}else!0===r(i)&&(l=i);void 0!==l&&t.push({target:e,handlers:l})}}function ot(t,e,r,n){for(var o=t.length;--o>=0;)if(it(t[o],e,1,n),2&e.flags)return;if(r)for(;++o<t.length;)if(it(t[o],e,2,n),2&e.flags)return}function it(t,e,r,n){var o,i,l=t.handlers,a=0;if(l instanceof Array)try{for(var f=c(l),u=f.next();!u.done;u=f.next()){var s=u.value;s.flags&r&&(a|=lt(s,n,e))}}catch(t){o={error:t}}finally{try{u&&!u.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}else l.flags&r&&(a=lt(l,n,e));e.flags|=a}function lt(t,e,r){var n=void 0===e?t.handler(r):e(t,r);return void 0===n?0:n}p(function(){for(Y|=2;2===Y;)Y>>=1,$(),Y^=1});var at=function(t){function e(e,r,n,o){var i=t.call(this,e,n)||this;return i.target=r,i.native=o,i}return u(e,t),e}(function(t,e){this.flags=t,this.timestamp=e});function ft(t){0==t.deps++&&document.addEventListener(t.name,t.dispatch,t.options)}function ut(t){0==--t.deps&&document.removeEventListener(t.name,t.dispatch,t.options)}function st(t,e){var r,n;if(t){var o=t.slice();try{for(var i=c(o),l=i.next();!l.done;l=i.next())(0,l.value)(e)}catch(t){r={error:t}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}var ct=function(t,e,r){var n={src:{add:function(){++n.listeners,ft(n)},remove:function(){--n.listeners,ut(n)}},deps:0,listeners:0,flags:5,options:!0,name:"keydown",before:null,after:null,dispatch:null},o=function(t){return t.src===n.src};return n.dispatch=p(function(t){var e=t.target,r=[];if(n.listeners&&tt(r,e,o),r.length||n.before||n.after){var i=new at(0,e,t.timeStamp,t);st(n.before,i),r.length&&ot(r,i,0!=(4&n.flags)),st(n.after,i),1&i.flags&&t.preventDefault()}}),n}();function dt(t,e,r){return{src:t,flags:!0===r?1:2,handler:e,listeners:0,props:null,state:null}}function vt(t,e){for(var r=null,n=null,o=0;o<t.length;++o){var i=e(t[o],o);null!==i&&(null!==n?(i._l=n,n._r=i):r=i,n=i)}return null!==r?(r._l=n,r._f|=64,r):null}var ht=function(){function t(t){this.flags=0,this.props=t}return t.prototype.propsChanged=function(t,e){},t.prototype.attached=function(){},t.prototype.detached=function(){},t.prototype.shouldUpdate=function(t,e){return t!==e},t.prototype.updated=function(){},t.prototype.invalidated=function(){},t.prototype.invalidate=function(t){this.flags|=2,this.invalidated(),Z(t)},t}();function pt(t){for(var e=0;e<t.length;++e)!0===t[e]()&&a(t,e--)}function _t(t){var e=t.a;t.a=[];for(var r=0,n=e;r<n.length;r++)(0,n[r])()}var yt=0,gt={a:[]},wt=[],mt=[],bt={f:0,w:{a:[]},r:{a:[]}},xt={f:0,w:{a:[]},r:{a:[]}},kt=null,Ot=p(function(){for(;gt.a.length>0;)_t(gt);yt^=1});function jt(){4&yt&&requestAnimationFrame(At)}var At=p(function(t){yt^=12;var e=xt;xt=bt,bt=e,pt(wt);do{for(;4&e.f;)e.f^=4,_t(e.r);for(;3&e.f;)2&e.f&&(e.f^=2,_t(e.w)),1&e.f&&(e.f^=1,$())}while(7&e.f);yt^=8,pt(mt),null!==kt&&(kt.focus(),kt=null)});var Pt={v:!0,s:function(t,e,r,n){var o;void 0===r&&n&&(o=t)instanceof Element&&(kt=o)}};function St(t,e,r){return new N(102402,"div",e,void 0===t?"":t,r)}var Dt={x:-1,y:0},Nt={x:1,y:0},Et={x:0,y:-1},Tt={x:0,y:1},Ct=function(){function t(t){void 0===t&&(t={x:0,y:0}),this.body=[],this.grow=4,this.body.push(t)}return Object.defineProperty(t.prototype,"head",{get:function(){return this.body[this.body.length-1]},enumerable:!0,configurable:!0}),t.prototype.move=function(t){if(this.body.push(t),this.grow)return this.grow--,null;var e=this.body[0];return this.body=this.body.splice(1),e},t}(),It=function(){function t(t,e){void 0===t&&(t=20),void 0===e&&(e=20),this.rows=t,this.cols=e,this.cells=new Array(t*e).fill(0)}return t.prototype.pointToIndex=function(t){return this.cols*t.y+t.x},t.prototype.mark=function(t,e){this.cells[this.pointToIndex(t)]|=e},t.prototype.unmark=function(t,e){this.cells[this.pointToIndex(t)]&=~e},t.prototype.createRandomFood=function(){var t=0;do{t=Math.random()*this.cells.length|0}while(0!==this.cells[t]);this.cells[t]|=4},t.prototype.isBodyAt=function(t){return!!(1&this.cells[this.pointToIndex(t)])},t.prototype.isHeadAt=function(t){return!!(2&this.cells[this.pointToIndex(t)])},t.prototype.isFoodAt=function(t){return!!(4&this.cells[this.pointToIndex(t)])},t}();function Mt(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Ft(t,e){return(t%e+e)%e}var Bt,Gt=function(){function t(){var t=this;this.gameOver=!1,this.startTime=0,this.currentTime=0,this.direction={x:1,y:0},this.grid=new It,this.snake=new Ct,this.newDirection=null,this.snake.body.forEach(function(e){t.grid.mark(e,1)}),this.grid.mark(this.snake.head,2),this.grid.createRandomFood()}return t.prototype.setNewDirection=function(t){this.newDirection=t},t.prototype.updateState=function(){if(!this.gameOver){this.newDirection&&(n={x:0,y:0},((r=Mt(this.direction,this.newDirection)).x!==n.x||r.y!==n.y)&&(this.direction=this.newDirection),this.newDirection=null);var t=Mt(this.snake.head,this.direction);t={x:Ft(t.x,this.grid.cols),y:Ft(t.y,this.grid.rows)},this.grid.unmark(this.snake.head,2);var e=this.snake.move(t);e&&this.grid.unmark(e,1),this.grid.mark(t,2),this.grid.isBodyAt(t)?this.gameOver=!0:this.grid.isFoodAt(t)&&(this.snake.grow=3,this.grid.unmark(t,4),this.grid.createRandomFood()),this.grid.mark(t,1)}var r,n},t}(),Kt=(Bt=function(t){function e(){var e,r,n=null!==t&&t.apply(this,arguments)||this;return n.onKeyDown=(e=function(t){switch(t.native.keyCode){case 37:return n.props.value.setNewDirection(Dt),1;case 38:return n.props.value.setNewDirection(Et),1;case 39:return n.props.value.setNewDirection(Nt),1;case 40:return n.props.value.setNewDirection(Tt),1}},void 0===r&&(r=!1),dt(ct.src,e,r)),n}return o(e,t),e.prototype.render=function(){var t=this.props.value.grid,e=0;return St(this.props.value.gameOver?"SnakeGame gameOver":"SnakeGame").c(St("Grid",{tabIndex:0,autofocus:Pt},{width:30*t.cols+"px",height:30*t.rows+"px"}).e(this.onKeyDown).c(vt(t.cells,function(t){return St((r=t,1&r?2&r?"Cell body head":"Cell body":4&r?"Cell food":"Cell")).k(e++);var r})))},e}(ht),function(t){return new N(16,Bt,t,"",void 0)}),Lt=document.getElementById("app"),Rt=new Gt;Q=function(t){var e;8&yt?bt.f|=1:(xt.f|=1,void 0!==t&&1&t?At(performance.now()):4&yt||(e=jt,1&(yt|=4)||(yt|=1,Promise.resolve().then(Ot)),gt.a.push(e)))},function t(){var e,r,n;Rt.updateState(),e=Kt({value:Rt}),(n=W(r=Lt))?n.next=e:V.push({container:r,next:e,current:null}),Z(void 0),setTimeout(t,100)}()}]);