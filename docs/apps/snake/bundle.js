!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};Object.assign;var i=function(){function e(e,n,t,r,i){this.flags=e,this.prev=this,this.next=null,this.children=i,this.tag=n,this.key=0,this.props=t,this.instance=null,this.className=r,this.style=null,this.events=null}return e.prototype.k=function(e){return this.flags|=128,this.key=e,this},e.prototype.s=function(e){return this.style=e,this},e.prototype.e=function(e){return this.flags|=512,this.events=e,this},e.prototype.a=function(e){return this.props=e,this},e.prototype.c=function(){for(var n=arguments,t=null,r=null,i=0,o=0;i<n.length;++i,++o){var l=n[i];if(null!==l){"object"!=typeof l&&(l=new e(1,null,null,void 0,l));var s=l.prev,a=l.flags;if(s===l)0==(128&a)&&(l.key=o);else if(0==(256&a)){var u=l;do{0==(128&u.flags)&&(u.key=o),++o,u=u.next}while(null!==u);--o}null!==r?(l.prev=r,r.next=l):t=l,r=s}}return null!==t&&(t.prev=r,this.flags|=32,this.children=t),this},e.prototype.unsafeHTML=function(e){return this.flags|=64,this.children=e,this},e.prototype.value=function(e){return this.children=e,this},e}();function o(e){return 0!=(49176&e.flags)?o(e.children):e.instance}var l=navigator.userAgent,s=0;function a(){}function u(e,n){var t=e.length-1,r=e.pop();n!==t&&(e[n]=r)}!/iPad|iPhone|iPod/.test(l)||"MSStream"in window||(s|="standalone"in navigator?3:1),l.indexOf("Android")>-1&&(s|=4);var c=[];function f(e){return function(){try{return e.apply(null,arguments)}catch(e){for(var n=0;n<c.length;++n)c[n](e);throw e}}}function d(e){for(var n=0;n<e.length;++n)!0===e[n]()&&u(e,n--)}function h(e){var n=e.tasks;e.tasks=[];for(var t=0;t<n.length;++t)n[t]()}var p,v=0,g={tasks:[]},y={tasks:[]},w=[],m=[],x=[],k=a,b={flags:0,write:{tasks:[]},read:{tasks:[]},after:{tasks:[]}},A={flags:0,write:{tasks:[]},read:{tasks:[]},after:{tasks:[]}},N=null,O=f(function(){for(;g.tasks.length>0;)h(g);v^=4});(new MessageChannel).port1.onmessage=f(function(e){v^=8,h(y)});var _=f(function(){var e=p();if(0!=(1&v)!==e){v^=3,!1===e&&m.length>0&&E();for(var n=w,t=0;t<n.length;++t)n[t](e);v^=2}});function P(e){void 0===e&&performance.now()}function L(){16&v&&requestAnimationFrame(D)}function E(){var e;16&v||(e=L,4&(v|=16)||(v|=4,Promise.resolve().then(O)),g.tasks.push(e))}void 0!==document.hidden?(p=function(){return document.hidden},document.addEventListener("visibilitychange",_)):void 0!==document.webkitHidden?(p=function(){return document.webkitHidden},document.addEventListener("webkitvisibilitychange",_)):p=function(){return!0},!0===p()&&(v|=1),P();var D=f(function(e){v^=48,P(e);var n=A;A=b,b=n,d(x);do{for(;4&n.flags;)n.flags^=4,h(n.read);for(;3&n.flags;)2&n.flags&&(n.flags^=2,h(n.write)),1&n.flags&&(n.flags^=1,k())}while(7&n.flags);for(1&(v^=32)||d(m);8&n.flags;)n.flags^=8,h(n.after);null!==N&&(N.focus(),N=null),m.length&&E()});function j(e){e.flags|=1}function T(){16&v&&D()}var C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},M=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},S=Node.prototype,I=Element.prototype,V=(Object.prototype.hasOwnProperty,S.insertBefore),B=S.removeChild,H=S.replaceChild,F=S.cloneNode,U=I.setAttribute,R=I.setAttributeNS,G=I.removeAttribute,K="http://www.w3.org/2000/svg",W="http://www.w3.org/1999/xlink",q="http://www.w3.org/XML/1998/namespace";function X(e){e.source.addListener(e)}function z(e){e.source.removeListener(e)}function J(e){if(e instanceof Array)for(var n=0;n<e.length;++n){var t=e[n];null!==t&&X(t)}else X(e)}function Q(e){if(e instanceof Array)for(var n=0;n<e.length;++n){var t=e[n];null!==t&&z(t)}else z(e)}var Y=function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,n)}catch(e){}return e}();function Z(e){var n=e.target||window;return void 0!==n.correspondingUseElement&&(n=n.correspondingUseElement),n}KeyboardEvent.prototype,MouseEvent.prototype,window,window,UIEvent.prototype;var $=!Y||{capture:!0,passive:!0},ee=!!Y&&{passive:!0};function ne(e){return 0!=(2&e)?0!=(1&e)?$:ee:0!=(1&e)}function te(e,n){e._ev=n}function re(e,n,t){var r,i,o=e.style;if(null===n)for(r in t)void 0!==(i=t[r])&&o.setProperty(r,i);else if(null!==t)for(r in t)i=t[r],n[r]!==i&&(void 0!==i?o.setProperty(r,i):o.removeProperty(r))}function ie(e,n,t,r){if("boolean"==typeof r){if(!r)return;r=""}if(!0===n&&t.length>5&&120===t.charCodeAt(0)&&(58===t.charCodeAt(3)||58===t.charCodeAt(5))){if(t.startsWith("xml:"))return void R.call(e,q,t,r);if(t.startsWith("xlink:"))return void R.call(e,W,t,r)}U.call(e,t,r)}function oe(e,n,t,r){var i,o;if(null===t)for(i in r)void 0!==(o=r[i])&&ie(e,n,i,o);else if(null!==r)for(i in r)o=r[i],t[i]!==o&&(void 0!==o?ie(e,n,i,o):G.call(e,i))}function le(e,n){B.call(e,o(n)),ae(n)}function se(e){var n=e.flags;if(0!=(544&n)){if(0!=(32&n)){var t=e.children;do{se(t),t=t.next}while(null!==t)}0!=(512&n)&&null!==e.events&&J(e.events)}else 0!=(49176&n)&&(0!=(16&n)&&e.instance.attached(),se(e.children))}function ae(e){var n=e.flags;if(0!=(544&n)){if(0!=(32&n)){var t=e.children;do{ae(t),t=t.next}while(null!==t)}0!=(512&n)&&null!==e.events&&Q(e.events)}else if(0!=(49176&n)&&(ae(e.children),0!=(16&n))){var r=e.instance;r.flags|=1,r.detached()}}function ue(e,n,t,r){var i,o,l=n.flags,s=0;if((-2147434440&l)>0)if(i=n.children,0!=(32&l)){o=n.instance;do{s|=ue(o,i,t,r),i=i.next}while(null!==i)}else if(0!=(16&l))0!=(6&(o=n.instance).flags)?(ve(e,i,n.children=o.render(),t,r),o.flags&=-7,o.updated(!0),s=1):0!==(s=ue(e,i,t,r))&&o.updated(!1);else if(0!=(16384&l)){var a=n.tag;o=n.instance;var u=a.select(o,n.props,t);o===u?s=ue(e,i,t,r):(s=1,n.instance=u,ve(e,i,n.children=a.render(u),t,r))}else 0!=(32768&l)&&(!0===r&&(n.instance=M({},t,n.props)),t=n.instance),s=ue(e,i,t,r);return s}function ce(e,n){e.textContent="";var t=n;do{ae(t),t=t.next}while(null!==t)}function fe(e,n){"string"==typeof n?e.value=n:e.checked=n}function de(e,n,t){var r,i=n.flags,o=null;if(0!=(1&i))o=r=document.createTextNode(n.children);else{if(0!=(18&i))if(0!=(2&i)){var l=0!=(8192&i);if(0==(4&i)){var s=n.tag;r=l?document.createElementNS(K,s):document.createElement(s)}else{var a=n.tag;null===a.instance&&de(e,a,t),r=F.call(a.instance,!1)}void 0!==n.className&&(!0===l?U.call(r,"class",n.className):r.className=n.className),null!==n.props&&oe(r,l,null,n.props),null!==n.style&&re(r,null,n.style),null!==n.events&&te(r,n.events);var u=n.children;if(null!==u)if(0!=(32&i)){u=u;do{V.call(r,de(r,u,t),null),u=u.next}while(null!==u)}else 0!=(3072&i)?fe(r,u):r.innerHTML=u;o=r}else{var c=o=new n.tag(n.props);r=de(e,n.children=c.render(),t)}else{if(0!=(49152&i))if(0!=(16384&i)){var f=n.tag,d=o=f.select(null,n.props,t);n.children=f.render(d)}else t=o=M({},t,n.props);else n.children=n.tag.render(n.props);r=de(e,n.children,t)}0!=(131072&i)&&function(e){e instanceof Element&&(N=e)}(r)}return n.instance=o,r}function he(e,n,t,r){var i=de(e,t,r);return V.call(e,i,n),se(t),i}function pe(e,n){return e.key===n.key&&0==(128&(e.flags^n.flags))}function ve(e,n,t,r,i){if(n!==t){var l,s=t.flags;if(0!=(134020319&(n.flags^t.flags))||0!=(16412&n.flags)&&n.tag!==t.tag||n.key!==t.key)l=de(e,t,r),H.call(e,l,o(n)),ae(n),se(t);else if(t.instance=l=n.instance,0!=(3&s))if(0!=(1&s))n.children!==t.children&&(l.nodeValue=t.children);else{var a=0!=(8192&s);if(n.className!==t.className){var u=void 0===t.className?"":t.className;!0===a?U.call(l,"class",u):l.className=u}n.props!==t.props&&oe(l,a,n.props,t.props),n.style!==t.style&&re(l,n.style,t.style),n.events!==t.events&&(function(e,n){var t,r,i;if(null===e)J(n);else if(null===n)Q(e);else if(e instanceof Array)if(n instanceof Array){for(t=0;t<e.length&&t<n.length;)(r=e[t])!==(i=n[t++])&&(null!==i&&X(i),null!==r&&z(r));for(;t<n.length;)null!==(r=n[t++])&&X(r);for(;t<e.length;)null!==(r=e[t++])&&z(r)}else for(X(n),t=0;t<e.length;++t)null!==(r=e[t])&&z(r);else J(n),z(e)}(n.events,t.events),te(l,t.events));var c=n.children,f=t.children;if(c!==f){var d=n.flags;if(null===c)if(0!=(32&s)){f=f;do{he(l,null,f,r),f=f.next}while(null!==f)}else 0!=(3072&s)?fe(l,f):l.innerHTML=f;else null===f?0!=(32&d)?ce(l,c):0!=(64&d)&&(l.textContent=""):0!=(32&d)?function(e,n,t,r,i){var l,s,a,u,c,f=n,d=t,h=n.prev,p=t.prev,v=0,g=0;e:for(;;){for(;!0===pe(f,d);)if(ve(e,f,d,r,i),v++,f===h?g|=1:f=f.next,d===p?g|=2:d=d.next,g)break e;for(;!0===pe(h,p);)if(ve(e,h,p,r,i),v++,f===h?g|=1:h=h.prev,d===p?g|=2:p=p.prev,g)break e;break}if(g){if(3!==g)if(1===g){c=null===p.next?null:o(p.next);do{he(e,c,d,r),d=d.next}while(d!==p.next)}else do{le(e,f),f=f.next}while(f!==h.next)}else{var y=0,w=0,m=!1,x=void 0,k=void 0;s=d;do{128&s.flags?(void 0===x&&(x=new Map),x.set(s.key,w)):(void 0===k&&(k=new Map),k.set(s.key,w)),w++,s=s.next}while(s!==p.next);var b=new Array(w),A=new Array(w).fill(-1);for(s=d,a=0;a<w;a++)b[a]=s,s=s.next;var N=0;a=0,l=f;do{void 0===(u=128&l.flags?x?x.get(l.key):void 0:k?k.get(l.key):void 0)?l.key=null:(A[u]=y,a>u?m=!0:a=u,ve(e,l,s=b[u],r,i),N++),y++,l=l.next}while(l!==h.next);if(v||N){for(a=y-N;a>0;)null===f.key&&(le(e,f),a--),f=f.next;if(m){var O=function(e){var n,t,r=e.slice(),i=[];i.push(0);for(var o=0,l=e.length;o<l;++o)if(-1!==e[o]){var s=i[i.length-1];if(e[s]<e[o])r[o]=s,i.push(o);else{for(n=0,t=i.length-1;n<t;){var a=(n+t)/2|0;e[i[a]]<e[o]?n=a+1:t=a}e[o]<e[i[n]]&&(n>0&&(r[o]=i[n-1]),i[n]=o)}}for(t=i[(n=i.length)-1];n-- >0;)i[n]=t,t=r[t];return i}(A);for(u=O.length-1,s=p,a=w-1;a>=0;a--)-1===A[a]?he(e,c=null===s.next?null:o(s.next),s,r):u<0||a!==O[u]?(c=null===s.next?null:o(s.next),V.call(e,o(s),c)):u--,s=s.prev}else if(N!==w)for(s=p,a=w-1;a>=0;a--)-1===A[a]&&he(e,c=null===s.next?null:o(s.next),s,r),s=s.prev}else for(ce(e,n);d!==p.next;)he(e,null,d,r),d=d.next}}(l,c,f,r,i):0!=(64&d)?l.innerHTML=f:"string"==typeof f?l.value!==f&&(l.value=f):l.checked=f}}else if(0!=(16&s)){var h=l,p=n.props,v=t.props;p!==v&&h.newPropsReceived(p,v),h.props=v,0!=(6&h.flags)||!0===h.shouldUpdate(p,v)?(ve(e,n.children,t.children=h.render(),r,i),h.flags&=-7,h.updated(!0)):0!==ue(e,t.children=n.children,r,i)&&h.updated(!1)}else{var g=t.tag;if(0!=(49152&s))if(0!=(16384&s)){var y=t.tag,w=l,m=y.select(w,t.props,r);t.instance=m,w===m?(t.children=n.children,ue(e,t.children,r,i)):ve(e,n.children,t.children=y.render(m),r,i)}else n.props!==t.props&&(i=!0),t.instance=r=!0===i?M({},r,t.props):l,ve(e,n.children,t.children,r,i);else n.props===t.props||0!=(65536&s)&&!0!==g.shouldUpdate(n.props,t.props)?(t.children=n.children,ue(e,t.children,r,i)):ve(e,n.children,t.children=g.render(t.props),r,i)}}else ue(e,t,r,i)}var ge=[],ye={},we=!1;function me(){if(we){we=!1,k=xe;for(var e=0;e<ge.length;++e){var n=ge[e],t=n.container,r=n.currentVNode;if(n.invalidated){var i=n.newVNode;i?(r?ve(t,r,i,ye,!1):(he(t,null,i,ye),1&s&&(t.onclick=a)),n.currentVNode=i):r&&(le(t,r),u(ge,ge.indexOf(n)),--e),n.newVNode=null,n.invalidated=!1}else r&&ue(t,r,ye,!1)}}}function xe(){ke(),T()}function ke(){var e;we||(we=!0,e=me,E(),function(e,n){e.flags|=2,e.write.tasks.push(n)}(A,e))}var be=function(){function e(e){this.flags=0,this.props=e}return e.prototype.newPropsReceived=function(e,n){},e.prototype.attached=function(){},e.prototype.detached=function(){},e.prototype.shouldUpdate=function(e,n){return e!==n},e.prototype.updated=function(e){},e.prototype.invalidated=function(){},e.prototype.invalidate=function(){this.flags|=2,this.invalidated(),0==(1&this.flags)&&(32&v?j(b):(E(),j(A)))},e}(),Ae=function(e){function n(n,t,r,i){var o=e.call(this,n,r)||this;return o.target=t,o.native=i,o}return function(e,n){function t(){this.constructor=e}C(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}(n,e),n}(function(){function e(e,n){this.flags=e,this.timestamp=n}return e.prototype.stopPropagation=function(){this.flags|=2},e.prototype.preventDefault=function(){this.flags|=1},e}());function Ne(e,n,t){var r=n._ev;if(null!==r&&void 0!==r){var i=void 0;if(r instanceof Array)for(var o=0,l=0;l<r.length;++l){var s=r[l];null!==s&&!0===t(s)&&(0===o?i=s:1===o?i=[i,s]:i.push(s),++o)}else!0===t(r)&&(i=r);void 0!==i&&e.push({target:n,handlers:i})}}function Oe(e){return void 0===e?0:e}function _e(e,n,t,r){var i=e.handlers,o=0;if(Array.isArray(i))for(var l=0;l<i.length;++l){var s=i[l];0!=(s.flags&t)&&(o|=Oe(void 0===r?s.handler(n):r(s,n)))}else 0!=(i.flags&t)&&(o=Oe(void 0===r?i.handler(n):r(i,n)));n.flags|=o}function Pe(e,n){var t={eventSource:{addListener:function(){++t.listeners,function(e){0==e.dependencies++&&document.addEventListener(e.name,e.dispatch,ne(e.flags))}(t)},removeListener:function(){--t.listeners,function(e){0==--e.dependencies&&document.removeEventListener(e.name,e.dispatch,ne(e.flags))}(t)}},dependencies:0,listeners:0,flags:e,name:n,onBeforeListeners:null,onAfterListeners:null,dispatch:null},r=function(e){return e.source===t.eventSource};return t.dispatch=f(function(e){var n=[];if(t.listeners>0&&function(e,n,t){for(;null!==n;)Ne(e,n,t),n=n.parentElement}(n,Z(e),r),n.length||null!==t.onBeforeListeners||null!==t.onAfterListeners){var i=new Ae(0,Z(e),e.timeStamp,e);Le(t.onBeforeListeners,i),n.length&&function(e,n,t,r){for(var i=e.length-1;i>=0;)if(_e(e[i--],n,1,void 0),0!=(2&n.flags))return;if(!0===t)for(n.flags|=32,i=0;i<e.length;++i)if(_e(e[i],n,2,void 0),0!=(2&n.flags))return}(n,i,0!=(4&t.flags)),Le(t.onAfterListeners,i),0!=(1&i.flags)&&e.preventDefault()}}),t}function Le(e,n){if(null!==e)for(var t=e.slice(),r=0;r<t.length;++r)t[r](n)}Pe(1,"abort");var Ee=Pe(5,"keydown");function De(e){return new i(15728642,"div",null,e,null)}var je={x:-1,y:0},Te={x:1,y:0},Ce={x:0,y:-1},Me={x:0,y:1},Se=function(){function e(e){void 0===e&&(e={x:0,y:0}),this.body=[],this.grow=4,this.body.push(e)}return Object.defineProperty(e.prototype,"head",{get:function(){return this.body[this.body.length-1]},enumerable:!0,configurable:!0}),e.prototype.move=function(e){if(this.body.push(e),this.grow)return this.grow--,null;var n=this.body[0];return this.body=this.body.splice(1),n},e}(),Ie=function(){function e(e,n){void 0===e&&(e=20),void 0===n&&(n=20),this.rows=e,this.cols=n,this.cells=new Array(e*n).fill(0)}return e.prototype.pointToIndex=function(e){return this.cols*e.y+e.x},e.prototype.mark=function(e,n){this.cells[this.pointToIndex(e)]|=n},e.prototype.unmark=function(e,n){this.cells[this.pointToIndex(e)]&=~n},e.prototype.createRandomFood=function(){var e=0;do{e=Math.random()*this.cells.length|0}while(0!==this.cells[e]);this.cells[e]|=4},e.prototype.isBodyAt=function(e){return!!(1&this.cells[this.pointToIndex(e)])},e.prototype.isHeadAt=function(e){return!!(2&this.cells[this.pointToIndex(e)])},e.prototype.isFoodAt=function(e){return!!(4&this.cells[this.pointToIndex(e)])},e}();function Ve(e,n){return{x:e.x+n.x,y:e.y+n.y}}function Be(e,n){return(e%n+n)%n}var He,Fe=function(){function e(){var e=this;this.gameOver=!1,this.startTime=0,this.currentTime=0,this.direction={x:1,y:0},this.grid=new Ie,this.snake=new Se,this.newDirection=null,this.snake.body.forEach(function(n){e.grid.mark(n,1)}),this.grid.mark(this.snake.head,2),this.grid.createRandomFood()}return e.prototype.setNewDirection=function(e){this.newDirection=e},e.prototype.updateState=function(){if(!this.gameOver){this.newDirection&&(r={x:0,y:0},((t=Ve(this.direction,this.newDirection)).x!==r.x||t.y!==r.y)&&(this.direction=this.newDirection),this.newDirection=null);var e=Ve(this.snake.head,this.direction);e={x:Be(e.x,this.grid.cols),y:Be(e.y,this.grid.rows)},this.grid.unmark(this.snake.head,2);var n=this.snake.move(e);n&&this.grid.unmark(n,1),this.grid.mark(e,2),this.grid.isBodyAt(e)?this.gameOver=!0:this.grid.isFoodAt(e)&&(this.snake.grow=3,this.grid.unmark(e,4),this.grid.createRandomFood()),this.grid.mark(e,1)}var t,r},e}(),Ue=(He=function(e){function n(){var n,t,r=null!==e&&e.apply(this,arguments)||this;return r.onKeyDown=(n=function(e){switch(e.native.keyCode){case 37:return r.props.value.setNewDirection(je),1;case 38:return r.props.value.setNewDirection(Ce),1;case 39:return r.props.value.setNewDirection(Te),1;case 40:return r.props.value.setNewDirection(Me),1}},void 0===t&&(t=!1),function(e,t,r){return{source:e,flags:!0===r?1:2,handler:n,listeners:0,props:null,state:null}}(Ee.eventSource,0,t)),r}return function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}(n,e),n.prototype.render=function(){var e,n=this.props.value.grid,t=0;return De(this.props.value.gameOver?"SnakeGame gameOver":"SnakeGame").c(((e=De("Grid").a({tabIndex:0}).s({width:30*n.cols+"px",height:30*n.rows+"px"}).e(this.onKeyDown).c(function(e,n){if(e.length){for(var t=null,r=null,i=0;i<e.length;++i){var o=n(e[i]);null!==o&&(null!==r?(o.prev=r,r.next=o):t=o,r=o)}if(null!==t)return t.prev=r,t.flags|=256,t}return null}(n.cells,function(e){return De((n=e,1&n?2&n?"Cell body head":"Cell body":4&n?"Cell food":"Cell")).k(t++);var n}))).flags|=131072,e))},n}(be),function(e){return new i(16,He,e,void 0,null)}),Re=document.getElementById("app"),Ge=new Fe;!function e(){Ge.updateState(),function(e,n){var t=function(e){for(var n=0;n<ge.length;++n){var t=ge[n];if(t.container===e)return t}}(n);t?(t.newVNode=e,t.invalidated=!0):ge.push({container:n,currentVNode:null,newVNode:e,invalidated:!0}),ke()}(Ue({value:Ge}),Re),T(),setTimeout(e,100)}()}]);