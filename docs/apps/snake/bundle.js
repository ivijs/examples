!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}({2:function(t,e,n){n.r(e);const o=(t,e)=>({f:t,d:e}),i=o(16,null),r=(o(32,null),o(8,null)),l=(t,e)=>({t:t,d:e}),s=(t,e)=>l(i,{v:t,c:e}),c=(t,e)=>({k:t,v:e}),f=t=>l(r,t);function u(t,e){const n=o(e,t);return(t,e,o=null)=>l(n,{n:t,a:e,c:o})}const a=t=>u(t,2),d=(t,e)=>Object.getOwnPropertyDescriptor(t,e),h=Node.prototype,v=Element.prototype,y=document,p=Object.prototype.hasOwnProperty,g=h.insertBefore,m=h.removeChild,w=(h.replaceChild,h.cloneNode),b=v.setAttribute,x=(v.setAttributeNS,v.removeAttribute),k=d(h,"textContent").set,A=d(v,"className").set,O=d(HTMLElement.prototype,"style").get,j=d(SVGElement.prototype,"style").get;function D(t){requestAnimationFrame(t)}const P=t=>({v:t}),T=[];let N=!1;function S(t){return function(){if(!N)try{return t.apply(void 0,arguments)}catch(e){throw N=!0,T.forEach(t=>{t(e)}),e}}}const E=()=>{};function C(t,e){const n=t.length-1,o=t.pop();e!==n&&(t[e]=o)}function I(t){for(let e=0;e<t.length;++e)!0===t[e]()&&C(t,e--)}const M="http://www.w3.org/2000/svg",F=t=>({o:t,f:0,c:null,s:null});let _,B,G,R={};function H(t){const e=R;return R=t,e}function L(t){R=t}function V(){return R}function $(){const t=B;return B=0,t}function q(t,e){const n=e|B;return B|=t,n}function z(t){const e=t.f;if(0===(3&e)){const n=t.c;if(0!==(136&e)){for(let t=0;t<n.length;t++){const e=n[t];if(null!==e)return z(e)}return null}return null===n?null:z(n)}return t.s}function J(t,e,n,o){const{f:i,c:r}=e;let l,s,c;if(0!==(4&i))l=e.s,s=$(),0!==(256&i)&&(0!==(1024&i)||null!==l.s&&!0===l.s())?e.c=nt(t,r,l.r(e.o.d),n,o):0!==(16384&i)?J(t,r,n,o):!0===n?K(t,e):_=z(e),e.f=15359&e.f|B,B|=s|(12288&e.f)<<2;else if(0!==(16384&i)){if(s=$(),0!==(3&i))l=e.s,!0===n&&g.call(t,l,_),null!==r&&J(l,r,!1,!0),_=l;else if(0!==(136&i))for(c=r.length;c>0;)null!==(l=r[--c])&&J(t,l,n,!1);else if(0!==(16&i))J(t,e.c,n,o);else{!0===G&&(e.s={...V(),...e.o.d.v});const i=H(e.s);J(t,e.c,n,o),L(i)}e.f=q(s,e.f)}else!0===n?K(t,e):_=z(e)}function K(t,e){const n=e.f;if(0!==(3&n)){const n=e.s;g.call(t,n,_),_=n}else{const o=e.c;if(0!==(136&n)){let e=o.length;for(;e>0;){const n=o[--e];null!==n&&K(t,n)}}else null!==o&&K(t,o)}}function Q(t){const e=t.f;let n,o;if(0!==(32768&e)){const i=t.c;if(null!==i)if(0!==(136&e))for(n=0;n<i.length;n++)null!==(o=i[n])&&Q(o);else Q(i)}if(0!==(8192&e)&&null!==(o=t.s.u))if("function"===typeof o)o(!0);else for(n=0;n<o.length;n++)o[n](!0)}function U(t,e,n){const o=e.f;if(0!==(3&o))m.call(t,e.s);else{const i=e.c;if(0!==(136&o))if(!0===n)k.call(t,"");else for(let e=0;e<i.length;++e){const n=i[e];null!==n&&U(t,n,!1)}else null!==i&&U(t,i,n)}}function W(t,e,n){U(t,e,n),Q(e)}function X(t,e,n){const o=y.createTextNode(n);g.call(t,o,_),_=o,e.s=o,e.f=1}function Y(t,e){const n=e.t,{n:o,a:i}=e.d,r=0!==(512&n.f);if(void 0===t){const e=n.d;t=r?y.createElementNS(M,e):y.createElement(e)}return o&&rt(t,o,r),void 0!==i&&st(t,void 0,i,r),t}function Z(t,e,n){const{t:o,d:i}=n,r=o.f;let l,s,c;if(0!==(4&r))l=$(),0!==(256&r)?(e.s=s={r:null,s:null,u:null},s.r=c=n.t.d.c(e)):c=n.t.d.c,e.c=et(t,c(i)),e.f=15359&e.f|r|B,B|=l|(12288&e.f)<<2;else{if(l=$(),0!==(2&r)){const l=o.d;let f;0!==(64&r)&&(null===(f=l.n)&&(l.n=f=Y(void 0,l.p)),f=w.call(f,!1)),e.s=f=Y(f,n),s=_,_=null,null!==(c=i.c)&&(e.c=et(f,c)),g.call(t,f,s),_=f}else if(0!==(48&r))0!==(32&r)?(s=H(e.s={...V(),...i.v}),e.c=et(t,i.c),L(s)):e.c=et(t,i.c);else{let n=i.length;for(e.c=c=Array(n);n>0;)c[--n]=et(t,i[n].v)}e.f=q(l,r)}}function tt(t,e,n){let o=n.length;const i=Array(o),r=$();for(;o>0;)i[--o]=et(t,n[o]);e.c=i,e.f=q(r,128)}function et(t,e){if(null!==e){const n=F(e);return"object"===typeof e?e instanceof Array?tt(t,n,e):Z(t,n,e):X(t,n,e),n}return null}function nt(t,e,n,o,i){if(null===n)return null!==e&&W(t,e,i),null;if(null===e)return et(t,n);const{o:r,s:l}=e;let s=e.f;if(0!==(1&s)){if("object"===typeof n)return m.call(t,l),et(t,n);e.o=n,r!==n&&(l.nodeValue=n),!0===o&&g.call(t,l,_),_=l}else{if(r===n)return J(t,e,o,i),e;if(!0===(c=r,"object"!==typeof(f=n)||(c instanceof Array?!(f instanceof Array):f instanceof Array||c.t!==f.t)))return W(t,e,i),et(t,n);e.o=n;const u=e.c;let a,d,h,v;if(0!==(4&s)){d=r.d,h=n.d;const l=n.t.d;0!==(1024&s)||d!==h&&(void 0===l.su||!0===l.su(d,h))?(a=$(),e.c=nt(t,u,0!==(256&s)?e.s.r(h):l.c(h),o,i),s=e.f,e.f=15359&s|B,B|=a|(12288&s)<<2):J(t,e,o,i)}else{if(a=$(),0!==(2&s)){const i=0!==(512&s);d=r.d,h=n.d,!0===o&&g.call(t,l,_),v=h.n,d.n!==v&&(void 0===v&&(v=""),rt(l,v,i)),v=h.a,d.a!==v&&st(l,d.a,v,i),_=null,e.c=nt(l,u,h.c,!1,!0),_=l}else if(0!==(136&s))if(0!==(128&s)){let r=n.length;if(u.length===r)for(;r>0;)u[--r]=nt(t,u[r],n[r],o,!1);else W(t,e,i),tt(t,e,n)}else ot(t,e,r.d,n.d,o,i);else if(0!==(16&s))e.c=nt(t,u,n.d.c,o,i);else{const l=G;v=(h=n.d).v,r.d.v===v&&!0!==G||(e.s={...V(),...v},G=!0),v=H(e.s),e.c=nt(t,u,h.c,o,i),L(v),G=l}e.f=q(a,e.f)}}var c,f;return e}function ot(t,e,n,o,i,r){let l=o.length,s=n.length;const c=Array(l);if(0===l)s>0&&W(t,e,r);else if(0===s)for(;l>0;)c[--l]=et(t,o[l].v);else{const f=e.c;let u=s-1,a=l-1,d=0,h=o[a];t:for(;;){for(;n[u].k===h.k;){if(c[a]=nt(t,f[u--],h.v,i,!1),d>--a||d>u)break t;h=o[a]}for(;n[d].k===o[d].k;)if(++d>u||d>a)break t;break}if(d>u)for(;a>=d;)c[a]=et(t,o[a--].v);else if(d>a){l=d;do{null!==(h=f[l++])&&W(t,h,!1)}while(l<=u)}else{let v=0,y=0;const p=u-d+1,g=a-d+1,m=Array(g),w=new Map;for(l=0;l<g;++l)s=l+d,m[l]=-1,w.set(o[s].k,s);for(l=d;l<=u&&y<g;++l)void 0!==(s=w.get(n[l].k))&&(v=s<v?s:-1,++y,m[s-d]=l,c[s]=f[l],f[l]=null);if(p===n.length&&0===y)for(W(t,e,r);a>=0;)c[a]=et(t,o[a--].v);else{for(l=d;l<=u;l++)null!==(h=f[l])&&W(t,h,!1);if(l=g,!0===i||-1!==v)for(;l>0;)h=o[v=--l+d].v,c[v]=-1===m[l]?et(t,h):nt(t,c[v],h,i,!1);else{const e=it(m);for(s=e.length-1;l>0;)h=o[v=--l+d].v,-1===m[l]?c[v]=et(t,h):(s<0||l!==e[s]?i=!0:--s,c[v]=nt(t,c[v],h,i,!1),i=!1)}}}for(;d>0;)c[--d]=nt(t,f[d],o[d].v,i,!1)}e.c=c}function it(t){const e=t.slice(),n=[];let o,i,r,l=0,s=0;for(n[0]=0;s<t.length;++s){const c=t[s];if(c>-1)if(t[r=n[l]]<c)e[s]=r,n[++l]=s;else{for(o=0,i=l;o<i;)t[n[r=o+i>>1]]<c?o=r+1:i=r;c<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(i=n[l];l>=0;)n[l--]=i,i=e[i];return n}function rt(t,e,n){!0===n?b.call(t,"class",e):A.call(t,e)}function lt(t,e,n,o){const i=!0===o?j.call(t):O.call(t);let r,l;if(void 0===e)for(r in n)void 0!==(l=n[r])&&i.setProperty(r,l);else if(void 0===n)for(r in e)i.removeProperty(r);else{let t=0,o=0;for(r in e)e[r]!==(l=!0===p.call(n,r)?(t++,n[r]):void 0)&&(void 0!==l?i.setProperty(r,l):i.removeProperty(r));const s=Object.keys(n);for(;t<s.length&&o<s.length;++o)r=s[o],!1===p.call(e,r)&&(i.setProperty(r,n[r]),++t)}}function st(t,e,n,o){let i;if(void 0===e)for(i in n)ct(t,i,void 0,n[i],o);else if(void 0===n)for(i in e)ct(t,i,e[i],void 0,o);else{let r=0,l=0;for(i in e)ct(t,i,e[i],!0===p.call(n,i)?(r++,n[i]):void 0,o);const s=Object.keys(n);for(;r<s.length&&l<s.length;++l)i=s[l],!1===p.call(e,i)&&(ct(t,i,void 0,n[i],o),++r)}}function ct(t,e,n,o,i){"style"!==e?"object"===typeof o?o.u(t,e,void 0===n?void 0:n.v,o.v):"object"===typeof n?n.u(t,e,n.v,void 0):n!==o&&("boolean"===typeof o&&(o=o?"":void 0),void 0===o?x.call(t,e):b.call(t,e,o)):n!==o&&lt(t,n,o,i)}const ft=[],ut=t=>ft.find(t);function at(){for(let t=0;t<ft.length;++t){const e=ft[t],{container:n,state:o,next:i}=e;_=null,B=0,G=!1,void 0!==i?(e.next=void 0,e.state=nt(n,o,i,!1,!0)):null!==o&&J(n,o,!1,!0)}}function dt(t){for(;t.v.length>0;){const e=t.v;t.v=[];for(let t=0;t<e.length;++t)e[t]()}}let ht=0;const vt=P([]),yt=P([]),pt=P([]),gt=[],mt=[];let wt=0;const bt=t=>S(function(){ht|=1,t.apply(void 0,arguments),dt(vt),ht&=-4}),xt=bt(E),kt=(t=>bt(e=>{ht|=16,t(e),0!==(4&ht)&&(wt=void 0===e?performance.now():e,I(gt),0!==(32&ht)&&at(),dt(yt),I(mt),dt(pt)),ht&=-61}))(E);function At(t){var e,n;void 0!==t&&0!==(1&t)&&0===(8&ht)?0===(16&(ht|=12))&&(e=kt,vt.v.push(e),0===(3&ht)&&(ht|=2,n=xt,Promise.resolve().then(n))):0===(4&ht)&&0===(16&(ht|=4))&&D(kt)}function Ot(t){ht|=32,At(t)}function jt(t,e,n){const o=ut(t=>t.container===e);o?o.next=t:ft.push({container:e,state:null,next:t}),Ot(n)}function Dt(t,e){const n=[],o=ut(e=>e.container.contains(t));if(o){const i=o.container;i!==t&&Pt(n,e,t,i,o.state)}return n}function Pt(t,e,n,o,i){const r=n.parentNode;return r===o||null!==(i=Pt(t,e,r,o,i))?Tt(t,e,n,i):null}function Tt(t,e,n,o){if(null!==o){const{f:i,c:r}=o;let l;if(0!==(2&i)){if(o.s===n)return o;if(null!==r)return Tt(t,e,n,r)}else if(0!==(52&i)){if(null!==(l=Tt(t,e,n,o.c)))return 0!==(16&i)&&Nt(t,o,o.o.d.v,e),l}else if(0!==(136&i))for(let o=0;o<r.length;o++)if(null!==(l=Tt(t,e,n,r[o])))return l}return null}function Nt(t,e,n,o){if(null!==n)if(n instanceof Array)for(let i=0;i<n.length;++i)Nt(t,e,n[i],o);else{const i=n.d.s;("function"===typeof i&&!0===i(o)||i===o)&&t.push({t:e,h:n})}}function St(t,e,n,o){const i=Dt(e,t);let r,l,s=i.length;if(s>0){for(;--s>=0;)if(0!==(1&(l=(r=i[s]).h.d).f)&&!0===l.h(n,r,t))return;if(o)for(;++s<i.length;)if(0===(1&(l=(r=i[s]).h.d).f)&&!0===l.h(n,r,t))return}}window,window,window,window;const Et=(t,e,n)=>e.h.h(t,e.t,n);function Ct(t,e,n=!0){const o={next:e=>{St(o,e.target,e,0!==(1&t))}};return y.addEventListener(e,bt(t=>{o.next(t)}),n),o}function It(t){const e={s:t,h:Et,f:0},n={s:t,h:Et,f:1};return(t,o)=>({d:!0===o?n:e,h:t})}const Mt=It(Ct(1,"keydown"));function Ft(t,e,n,o){var i;void 0===n&&o&&(i=(()=>{t.focus()}),pt.v.push(i),At(void 0))}const _t={v:!1,u:Ft},Bt={v:!0,u:Ft},Gt=t=>t?Bt:_t,Rt=a("div"),Ht={x:-1,y:0},Lt={x:1,y:0},Vt={x:0,y:-1},$t={x:0,y:1};class qt{constructor(t={x:0,y:0}){this.body=[],this.grow=4,this.body.push(t)}get head(){return this.body[this.body.length-1]}move(t){if(this.body.push(t),this.grow)return this.grow--,null;{const t=this.body[0];return this.body=this.body.splice(1),t}}}class zt{constructor(t=20,e=20){this.rows=t,this.cols=e,this.cells=new Array(t*e).fill(0)}pointToIndex(t){return this.cols*t.y+t.x}mark(t,e){this.cells[this.pointToIndex(t)]|=e}unmark(t,e){this.cells[this.pointToIndex(t)]&=~e}createRandomFood(){let t=0;do{t=Math.random()*this.cells.length|0}while(0!==this.cells[t]);this.cells[t]|=4}isBodyAt(t){return!!(1&this.cells[this.pointToIndex(t)])}isHeadAt(t){return!!(2&this.cells[this.pointToIndex(t)])}isFoodAt(t){return!!(4&this.cells[this.pointToIndex(t)])}}function Jt(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Kt(t,e){return(t%e+e)%e}function Qt(t){return 1&t?2&t?"Cell body head":"Cell body":4&t?"Cell food":"Cell"}const Ut=function(t,e){const n=o(4356,{c:()=>{let t;const e=Mt(e=>{switch(e.keyCode){case 37:t.setNewDirection(Ht),e.preventDefault();break;case 38:t.setNewDirection(Vt),e.preventDefault();break;case 39:t.setNewDirection(Lt),e.preventDefault();break;case 40:t.setNewDirection($t),e.preventDefault()}});return n=>(t=n.v,Rt(t.gameOver?"SnakeGame gameOver":"SnakeGame",void 0,s(e,Rt("Grid",{tabIndex:0,autofocus:Gt(!0),style:{width:`${30*t.grid.cols}px`,height:`${30*t.grid.rows}px`}},f(t.grid.cells.map((t,e)=>c(e,Rt(Qt(t)))))))))},su:void 0});return t=>l(n,t)}(),Wt=document.getElementById("app"),Xt=new class{constructor(){this.gameOver=!1,this.startTime=0,this.currentTime=0,this.direction={x:1,y:0},this.grid=new zt,this.snake=new qt,this.newDirection=null,this.snake.body.forEach(t=>{this.grid.mark(t,1)}),this.grid.mark(this.snake.head,2),this.grid.createRandomFood()}setNewDirection(t){this.newDirection=t}updateState(){if(!this.gameOver){this.newDirection&&(e={x:0,y:0},((t=Jt(this.direction,this.newDirection)).x!==e.x||t.y!==e.y)&&(this.direction=this.newDirection),this.newDirection=null);let n=Jt(this.snake.head,this.direction);n={x:Kt(n.x,this.grid.cols),y:Kt(n.y,this.grid.rows)},this.grid.unmark(this.snake.head,2);const o=this.snake.move(n);o&&this.grid.unmark(o,1),this.grid.mark(n,2),this.grid.isBodyAt(n)?this.gameOver=!0:this.grid.isFoodAt(n)&&(this.snake.grow=3,this.grid.unmark(n,4),this.grid.createRandomFood()),this.grid.mark(n,1)}var t,e}};!function t(){Xt.updateState(),jt(Ut(P(Xt)),Wt),setTimeout(t,100)}()}});