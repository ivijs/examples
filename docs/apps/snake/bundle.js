!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.assign;var o=function(){function e(e,t,n,r,i){this._f=e,this._l=this,this._r=null,this._c=i,this._t=t,this._k=0,this._p=n,this._i=null,this._cs=r,this._s=null,this._e=null}return e.prototype.k=function(e){return this._f|=128,this._k=e,this},e.prototype.s=function(e){return this._s=e,this},e.prototype.e=function(e){return this._f|=512,this._e=e,this},e.prototype.a=function(e){return this._p=e,this},e.prototype.c=function(){for(var t=arguments,n=null,r=null,i=0,o=0;i<t.length;++i,++o){var l=t[i];if(null!==l){"object"!=typeof l&&(l=new e(1,null,null,void 0,l));var a=l._l,s=l._f;if(a===l)0==(128&s)&&(l._k=o);else if(0==(256&s)){var u=l;do{0==(128&u._f)&&(u._k=o),++o,u=u._r}while(null!==u);--o}null!==r?(l._l=r,r._r=l):n=l,r=a}}return null!==n&&(n._l=r,this._f|=32,this._c=n),this},e.prototype.unsafeHTML=function(e){return this._f|=64,this._c=e,this},e.prototype.value=function(e){return this._c=e,this},e}();function l(e){return 0!=(49176&e._f)?l(e._c):e._i}function a(e,t){var n=e.length-1,r=e.pop();t!==n&&(e[t]=r)}var s=[];function u(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return e.apply(void 0,t)}catch(e){for(var r=0,i=s;r<i.length;r++)(0,i[r])(e);throw e}}}var f=navigator.userAgent,c=/iPad|iPhone|iPod/.test(f)&&!("MSStream"in window);function d(){}function h(e){for(var t=0;t<e.length;++t)!0===e[t]()&&a(e,t--)}function p(e){var t=e.a;e.a=[];for(var n=0,r=t;n<r.length;n++)(0,r[n])()}var v,_=0,y={a:[]},g={a:[]},w=[],m=[],k=[],b=d,x={f:0,w:{a:[]},r:{a:[]},a:{a:[]}},O={f:0,w:{a:[]},r:{a:[]},a:{a:[]}},A=null,P=u(function(){for(;y.a.length>0;)p(y);_^=4});(new MessageChannel).port1.onmessage=u(function(e){_^=8,p(g)});var N=u(function(){var e=v();if(0!=(1&_)!==e){_^=3,!e&&m.length>0&&D();for(var t=w,n=0;n<t.length;++n)t[n](e);_^=2}});function E(e){e instanceof Element&&(A=e)}function j(){16&_&&requestAnimationFrame(T)}function D(){var e;16&_||(e=j,4&(_|=16)||(_|=4,Promise.resolve().then(P)),y.a.push(e))}void 0!==document.hidden?(v=function(){return document.hidden},document.addEventListener("visibilitychange",N)):void 0!==document.webkitHidden?(v=function(){return document.webkitHidden},document.addEventListener("webkitvisibilitychange",N)):v=function(){return!1},v()&&(_|=1);var T=u(function(e){_^=48;var t=O;O=x,x=t,h(k);do{for(;4&t.f;)t.f^=4,p(t.r);for(;3&t.f;)2&t.f&&(t.f^=2,p(t.w)),1&t.f&&(t.f^=1,b())}while(7&t.f);for(1&(_^=32)||h(m);8&t.f;)t.f^=8,p(t.a);null!==A&&(A.focus(),A=null),m.length&&D()});function C(e){e.f|=1}function M(e,t){e.f|=2,e.w.a.push(t)}function L(){16&_&&T(performance.now())}var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function I(e,t){function n(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},H=Node.prototype,F=Element.prototype,R=(Object.prototype.hasOwnProperty,H.insertBefore),U=H.removeChild,B=H.replaceChild,G=H.cloneNode,K=F.setAttribute,W=F.setAttributeNS,q=F.removeAttribute,X="http://www.w3.org/2000/svg",z="http://www.w3.org/1999/xlink",J="http://www.w3.org/XML/1998/namespace";function Q(e,t){var n,r,i;if(null===e)Y(t);else if(null===t)Z(e);else if(e instanceof Array)if(t instanceof Array){for(n=0;n<e.length&&n<t.length;)(r=e[n])!==(i=t[n++])&&(null!==i&&$(i),null!==r&&ee(r));for(;n<t.length;)null!==(r=t[n++])&&$(r);for(;n<e.length;)null!==(r=e[n++])&&ee(r)}else for($(t),n=0;n<e.length;++n)null!==(r=e[n])&&ee(r);else Y(t),ee(e)}function Y(e){if(e instanceof Array)for(var t=0;t<e.length;++t){var n=e[t];null!==n&&$(n)}else $(e)}function Z(e){if(e instanceof Array)for(var t=0;t<e.length;++t){var n=e[t];null!==n&&ee(n)}else ee(e)}function $(e){e.src.add(e)}function ee(e){e.src.remove(e)}function te(e,t,n){var r,i,o=e.style;if(null===t)for(r in n)void 0!==(i=n[r])&&o.setProperty(r,i);else if(null!==n)for(r in n)i=n[r],t[r]!==i&&(void 0!==i?o.setProperty(r,i):o.removeProperty(r))}function ne(e,t,n,r){if("boolean"==typeof r){if(!r)return;r=""}if(!0===t&&n.length>5&&120===n.charCodeAt(0)&&(58===n.charCodeAt(3)||58===n.charCodeAt(5))){if(n.startsWith("xml:"))return void W.call(e,J,n,r);if(n.startsWith("xlink:"))return void W.call(e,z,n,r)}K.call(e,n,r)}function re(e,t,n,r){var i,o;if(null===n)for(i in r)void 0!==(o=r[i])&&ne(e,t,i,o);else if(null!==r)for(i in r)o=r[i],n[i]!==o&&(void 0!==o?ne(e,t,i,o):q.call(e,i))}function ie(e,t){U.call(e,l(t)),le(t)}function oe(e){var t=e._f;if(0!=(32&t)){var n=e._c;do{oe(n),n=n._r}while(null!==n)}else 0!=(49176&t)&&(0!=(16&t)&&e._i.attached(),oe(e._c));0!=(512&t)&&null!==e._e&&Y(e._e)}function le(e){var t=e._f;if(0!=(32&t)){var n=e._c;do{le(n),n=n._r}while(null!==n)}else if(0!=(49176&t)&&(le(e._c),0!=(16&t))){var r=e._i;r.flags|=1,r.detached()}0!=(512&t)&&null!==e._e&&Z(e._e)}function ae(e,t,n,r){var i,o,l=t._f,a=0;if((-2147434440&l)>0)if(i=t._c,0!=(32&l)){o=t._i;do{a|=ae(o,i,n,r),i=i._r}while(null!==i)}else if(0!=(16&l))0!=(6&(o=t._i).flags)?(de(e,i,t._c=o.render(),n,r),o.flags&=-7,o.updated(!0),a=1):0!==(a=ae(e,i,n,r))&&o.updated(!1);else if(0!=(16384&l)){var s=t._t;o=t._i;var u=s.select(o,t._p,n);o===u?a=ae(e,i,n,r):(a=1,t._i=u,de(e,i,t._c=s.render(u),n,r))}else 0!=(32768&l)&&(!0===r&&(t._i=V({},n,t._p)),n=t._i),a=ae(e,i,n,r);return a}function se(e,t){e.textContent="";var n=t;do{le(n),n=n._r}while(null!==n)}function ue(e,t){"string"==typeof t?e.value=t:e.checked=t}function fe(e,t,n){var r,i=t._f,o=null;if(0!=(1&i))o=r=document.createTextNode(t._c);else{var l=t._t;if(0!=(18&i))if(0!=(2&i)){var a=0!=(8192&i);0==(4&i)?r=a?document.createElementNS(X,l):document.createElement(l):(null===l._i&&fe(e,l,n),r=G.call(l._i,!1)),void 0!==t._cs&&(!0===a?K.call(r,"class",t._cs):r.className=t._cs),null!==t._p&&re(r,a,null,t._p),null!==t._s&&te(r,null,t._s);var s=t._c;if(null!==s)if(0!=(32&i)){s=s;do{R.call(r,fe(r,s,n),null),s=s._r}while(null!==s)}else 0!=(3072&i)?ue(r,s):r.innerHTML=s;o=r}else{var u=o=new l(t._p);r=fe(e,t._c=u.render(),n)}else{if(0!=(49152&i))if(0!=(16384&i)){var f=l,c=o=f.select(null,t._p,n);t._c=f.render(c)}else n=o=V({},n,t._p);else t._c=l.render(t._p);r=fe(e,t._c,n)}0!=(131072&i)&&E(r)}return t._i=o,r}function ce(e,t,n,r){var i=fe(e,n,r);return R.call(e,i,t),oe(n),i}function de(e,t,n,r,i){if(t!==n){var o,a=t._f,s=n._f;if(0!=(134020319&(a^s))||0!=(16412&a)&&t._t!==n._t||t._k!==n._k)o=fe(e,n,r),B.call(e,o,l(t)),le(t),oe(n);else{n._i=o=t._i;var u=t._c,f=n._c;if(0!=(1&s))u!==f&&(o.data=f);else if(t._e!==n._e&&Q(t._e,n._e),0!=(18&s))if(0!=(2&s)){var c=0!=(8192&s);if(t._cs!==n._cs){var d=void 0===n._cs?"":n._cs;!0===c?K.call(o,"class",d):o.className=d}if(t._p!==n._p&&re(o,c,t._p,n._p),t._s!==n._s&&te(o,t._s,n._s),u!==f)if(null===u)if(0!=(32&s)){f=f;do{ce(o,null,f,r),f=f._r}while(null!==f)}else 0!=(3072&s)?ue(o,f):o.innerHTML=f;else null===f?0!=(32&a)?se(o,u):0!=(64&a)&&(o.textContent=""):0!=(32&a)?he(o,u,f,r,i):0!=(64&a)?o.innerHTML=f:"string"==typeof f?o.value!==f&&(o.value=f):o.checked=f}else{var h=t._p,p=n._p;h!==p&&o.newPropsReceived(h,p),o.props=p,0!=(6&o.flags)||!0===o.shouldUpdate(h,p)?(de(e,u,n._c=o.render(),r,i),o.flags&=-7,o.updated(!0)):0!==ae(e,n._c=u,r,i)&&o.updated(!1)}else if(0!=(49152&s))if(0!=(16384&s)){var v=n._t,_=o,y=n._i=v.select(_,n._p,r);_===y?ae(e,n._c=u,r,i):de(e,u,n._c=v.render(y),r,i)}else t._p!==n._p&&(i=!0),n._i=r=!0===i?V({},r,n._p):o,de(e,u,f,r,i);else{var g=n._t;t._p===n._p||0!=(65536&s)&&!0!==g.shouldUpdate(t._p,n._p)?ae(e,n._c=u,r,i):de(e,u,n._c=g.render(n._p),r,i)}}}else ae(e,n,r,i)}function he(e,t,n,r,i){var o=t._l,a=n._l,s=0,u=0;e:for(;;){for(;t._k===n._k&&0==(128&(t._f^n._f));)if(de(e,t,n,r,i),u++,t===o?s=1:t=t._r,n===a?s|=2:n=n._r,s)break e;for(;o._k===a._k&&0==(128&(o._f^a._f));)if(de(e,o,a,r,i),u++,t===o?s=1:o=o._l,n===a?s|=2:a=a._l,s)break e;break}if(s){if(s<3)if(s<2)for(var f=pe(a);ce(e,f,n,r),n!==a;)n=n._r;else for(;ie(e,t),t!==o;)t=t._r}else{for(var c=0,d=0,h=0,p=[],v=void 0,_=void 0,y=void 0,g=n;y=g._k,128&g._f?(void 0===v&&(v=new Map),v.set(y,d)):(void 0===_&&(_=new Map),_.set(y,d)),p[d++]=g,g!==a;)g=g._r;var w=new Array(d).fill(-1),m=0;for(g=t;y=g._k,void 0===(s=128&g._f?v?v.get(y):void 0:_?_.get(y):void 0)?g._k=null:(h=h>s?1e9:s,w[s]=c,de(e,g,p[s],r,i),m++),c++,g!==o;)g=g._r;if(u||m){for(s=c-m;s>0;)null===t._k&&(ie(e,t),s--),t=t._r;if(1e9===h){var k=ve(w);for(s=k.length-1;d>0;)w[--d]<0?ce(e,pe(a),a,r):s<0||d!==k[s]?R.call(e,l(a),pe(a)):s--,a=a._l}else if(m!==d)for(;d>0;)w[--d]<0&&ce(e,pe(a),a,r),a=a._l}else{se(e,t);do{ce(e,null,n,r),n=n._r}while(null!==n)}}}function pe(e){var t=e._r;return null===t?null:l(t)}function ve(e){var t,n,r,i=e.slice(),o=[];o.push(0);for(var l=0;l<e.length;++l){var a=e[l];if(-1!==a)if(e[r=o[o.length-1]]<a)i[l]=r,o.push(l);else{for(t=0,n=o.length-1;t<n;)e[o[r=(t+n)/2|0]]<a?t=r+1:n=r;a<e[o[t]]&&(t>0&&(i[l]=o[t-1]),o[t]=l)}}for(n=o[(t=o.length)-1];t-- >0;)o[t]=n,n=i[n];return o}var _e=[],ye={},ge=0;function we(e){for(var t=0,n=_e;t<n.length;t++){var r=n[t];if(r.container===e)return r}}function me(){if(ge){ge=0,b=ke;for(var e=0;e<_e.length;++e){var t=_e[e],n=t.container,r=t.currentVNode;if(t.invalidated){var i=t.newVNode;i?(r?de(n,r,i,ye,!1):(ce(n,null,i,ye),c&&(n.onclick=d)),t.currentVNode=i):r&&(ie(n,r),a(_e,_e.indexOf(t)),--e),t.newVNode=null,t.invalidated=!1}else r&&ae(n,r,ye,!1)}}}function ke(){be(),L()}function be(){var e;ge||(ge=1,e=me,D(),M(O,e))}function xe(e,t,n){for(var r=0,i=_e;r<i.length;r++){var o=i[r],l=o.container;if(l.contains(t)){for(var a=[];t!==l;)a.push(t),t=t.parentNode;Oe(e,n,o.currentVNode,a,a.length-1);break}}}function Oe(e,t,n,r,i){var o=n._f;if(6&o){if(n._i===r[i]){if(0===i)return Ae(e,n,t),1;--i;for(var l=n._c;null!==l;){if(Oe(e,t,l,r,i))return Ae(e,n,t),1;l=l._r}}}else if(49176&o&&Oe(e,t,n._c,r,i))return Ae(e,n,t),1;return 0}function Ae(e,t,n){var r=t._e;if(r){var i=void 0;if(Array.isArray(r))for(var o=0,l=0,a=r;l<a.length;l++){var s=a[l];null!==s&&!0===n(s)&&(0===o?i=s:1===o?i=[i,s]:i.push(s),++o)}else!0===n(r)&&(i=r);void 0!==i&&e.push({target:t,handlers:i})}}function Pe(e,t,n,r){for(var i=e.length-1;i>=0;)if(Ne(e[i--],t,1,r),2&t.flags)return;if(n)for(t.flags|=32,i=0;i<e.length;++i)if(Ne(e[i],t,2,r),2&t.flags)return}function Ne(e,t,n,r){var i=e.handlers,o=0;if(Array.isArray(i))for(var l=0,a=i;l<a.length;l++){var s=a[l];s.flags&n&&(o|=Ee(s,r,t))}else i.flags&n&&(o=Ee(i,r,t));t.flags|=o}function Ee(e,t,n){var r=void 0===t?e.handler(n):t(e,n);return void 0===r?0:r}var je=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}();function De(e){var t=e.target||window;return void 0!==t.correspondingUseElement&&(t=t.correspondingUseElement),t}KeyboardEvent.prototype.hasOwnProperty("key"),MouseEvent.prototype.hasOwnProperty("buttons"),window,window,window;var Te=!je||{capture:!0,passive:!0},Ce=!je||{capture:!0,passive:!1},Me=!!je&&{passive:!0},Le=!!je&&{passive:!1};function Se(e){return 2&e?1&e?Te:Me:1&e?Ce:Le}var Ie=function(e){function t(t,n,r,i){var o=e.call(this,t,r)||this;return o.target=n,o.native=i,o}return I(t,e),t}(function(e,t){this.flags=e,this.timestamp=t});function Ve(e){0==e.deps++&&document.addEventListener(e.name,e.dispatch,Se(e.flags))}function He(e){0==--e.deps&&document.removeEventListener(e.name,e.dispatch,Se(e.flags))}function Fe(e,t){if(null!==e)for(var n=0,r=e.slice();n<r.length;n++)(0,r[n])(t)}var Re=function(e,t){var n={src:{add:function(){++n.listeners,Ve(n)},remove:function(){--n.listeners,He(n)}},deps:0,listeners:0,flags:5,name:"keydown",before:null,after:null,dispatch:null},r=function(e){return e.src===n.src};return n.dispatch=u(function(e){var t=De(e),i=[];if(n.listeners>0&&xe(i,t,r),i.length||null!==n.before||null!==n.after){var o=new Ie(0,t,e.timeStamp,e);Fe(n.before,o),i.length&&Pe(i,o,0!=(4&n.flags)),Fe(n.after,o),0!=(1&o.flags)&&e.preventDefault()}}),n}();function Ue(e,t,n){return{src:e,flags:!0===n?1:2,handler:t,listeners:0,props:null,state:null}}var Be=function(){function e(e){this.flags=0,this.props=e}return e.prototype.newPropsReceived=function(e,t){},e.prototype.attached=function(){},e.prototype.detached=function(){},e.prototype.shouldUpdate=function(e,t){return e!==t},e.prototype.updated=function(e){},e.prototype.invalidated=function(){},e.prototype.invalidate=function(){this.flags|=2,this.invalidated(),0==(1&this.flags)&&(32&_?C(x):(D(),C(O)))},e}();function Ge(e,t){for(var n=null,r=null,i=0;i<e.length;++i){var o=t(e[i],i);null!==o&&(null!==r?(o._l=r,r._r=o):n=o,r=o)}return null!==n?(n._l=r,n._f|=256,n):null}function Ke(e){return new o(15728642,"div",null,e,null)}var We={x:-1,y:0},qe={x:1,y:0},Xe={x:0,y:-1},ze={x:0,y:1},Je=function(){function e(e){void 0===e&&(e={x:0,y:0}),this.body=[],this.grow=4,this.body.push(e)}return Object.defineProperty(e.prototype,"head",{get:function(){return this.body[this.body.length-1]},enumerable:!0,configurable:!0}),e.prototype.move=function(e){if(this.body.push(e),this.grow)return this.grow--,null;var t=this.body[0];return this.body=this.body.splice(1),t},e}(),Qe=function(){function e(e,t){void 0===e&&(e=20),void 0===t&&(t=20),this.rows=e,this.cols=t,this.cells=new Array(e*t).fill(0)}return e.prototype.pointToIndex=function(e){return this.cols*e.y+e.x},e.prototype.mark=function(e,t){this.cells[this.pointToIndex(e)]|=t},e.prototype.unmark=function(e,t){this.cells[this.pointToIndex(e)]&=~t},e.prototype.createRandomFood=function(){var e=0;do{e=Math.random()*this.cells.length|0}while(0!==this.cells[e]);this.cells[e]|=4},e.prototype.isBodyAt=function(e){return!!(1&this.cells[this.pointToIndex(e)])},e.prototype.isHeadAt=function(e){return!!(2&this.cells[this.pointToIndex(e)])},e.prototype.isFoodAt=function(e){return!!(4&this.cells[this.pointToIndex(e)])},e}();function Ye(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Ze(e,t){return(e%t+t)%t}var $e,et=function(){function e(){var e=this;this.gameOver=!1,this.startTime=0,this.currentTime=0,this.direction={x:1,y:0},this.grid=new Qe,this.snake=new Je,this.newDirection=null,this.snake.body.forEach(function(t){e.grid.mark(t,1)}),this.grid.mark(this.snake.head,2),this.grid.createRandomFood()}return e.prototype.setNewDirection=function(e){this.newDirection=e},e.prototype.updateState=function(){if(!this.gameOver){this.newDirection&&(r={x:0,y:0},((n=Ye(this.direction,this.newDirection)).x!==r.x||n.y!==r.y)&&(this.direction=this.newDirection),this.newDirection=null);var e=Ye(this.snake.head,this.direction);e={x:Ze(e.x,this.grid.cols),y:Ze(e.y,this.grid.rows)},this.grid.unmark(this.snake.head,2);var t=this.snake.move(e);t&&this.grid.unmark(t,1),this.grid.mark(e,2),this.grid.isBodyAt(e)?this.gameOver=!0:this.grid.isFoodAt(e)&&(this.snake.grow=3,this.grid.unmark(e,4),this.grid.createRandomFood()),this.grid.mark(e,1)}var n,r},e}(),tt=($e=function(e){function t(){var t,n,r=null!==e&&e.apply(this,arguments)||this;return r.onKeyDown=(t=function(e){switch(e.native.keyCode){case 37:return r.props.value.setNewDirection(We),1;case 38:return r.props.value.setNewDirection(Xe),1;case 39:return r.props.value.setNewDirection(qe),1;case 40:return r.props.value.setNewDirection(ze),1}},void 0===n&&(n=!1),Ue(Re.src,t,n)),r}return i(t,e),t.prototype.render=function(){var e,t=this.props.value.grid,n=0;return Ke(this.props.value.gameOver?"SnakeGame gameOver":"SnakeGame").c(((e=Ke("Grid").a({tabIndex:0}).s({width:30*t.cols+"px",height:30*t.rows+"px"}).e(this.onKeyDown).c(Ge(t.cells,function(e){return Ke((t=e,1&t?2&t?"Cell body head":"Cell body":4&t?"Cell food":"Cell")).k(n++);var t})))._f|=131072,e))},t}(Be),function(e){return new o(16,$e,e,void 0,null)}),nt=document.getElementById("app"),rt=new et;!function e(){var t,n,r;rt.updateState(),t=tt({value:rt}),(r=we(n=nt))?(r.newVNode=t,r.invalidated=!0):_e.push({container:n,currentVNode:null,newVNode:t,invalidated:!0}),be(),L(),setTimeout(e,100)}()}]);