!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}({2:function(t,e,n){"use strict";n.r(e);const o=(t,e)=>({f:t,d:e}),i=o(16,null),r=(o(32,null),o(8,null)),l=(t,e)=>({t:t,d:e}),s=(t,e)=>l(i,{v:t,c:e}),c=(t,e)=>({k:t,v:e}),f=t=>l(r,t);function u(t,e){const n=o(e,t);return(t,e,o=null)=>l(n,{n:t,a:e,c:o})}const a=t=>u(t,2);function d(t,e){const n=t.length-1,o=t.pop();e!==n&&(t[e]=o)}const h=[];function v(t){return function(){try{return t.apply(void 0,arguments)}catch(e){throw h.forEach(t=>{t(e)}),e}}}const g=()=>{};function y(t){for(let e=0;e<t.length;++e)!0===t[e]()&&d(t,e--)}function p(t){requestAnimationFrame(t)}(()=>{let t=!1;try{const n=Object.defineProperty({},"passive",{get(){t=!0}});window.addEventListener("test",null,n)}catch(e){}})(),KeyboardEvent.prototype.hasOwnProperty("key"),MouseEvent.prototype.hasOwnProperty("buttons"),window,window,window;const m="GestureEvent"in window,b=Node.prototype,w=Element.prototype,x=Object.prototype.hasOwnProperty,k=b.insertBefore,O=b.removeChild,j=(b.replaceChild,b.cloneNode),A=w.setAttribute,P=(w.setAttributeNS,w.removeAttribute),N="http://www.w3.org/2000/svg",D=t=>({o:t,f:0,c:null,s:null});let S,T,E,C={};function I(t){const e=C;return C=t,e}function M(t){C=t}function F(){return C}function _(){const t=T;return T=0,t}function B(t,e){const n=e|T;return T|=t,n}function G(t){const e=t.f;if(0===(3&e)){const n=t.c;if(0!==(136&e)){for(let t=0;t<n.length;t++){const e=n[t];if(null!==e)return G(e)}return null}return null===n?null:G(n)}return t.s}function R(t,e,n,o){const{f:i,c:r}=e;let l,s,c;if(0!==(4&i))l=e.s,s=_(),0!==(256&i)&&(0!==(1024&i)||null!==l.s&&!0===l.s(F()))?e.c=W(t,r,l.r(e.o.d),n,o):0!==(16384&i)?R(t,r,n,o):n?L(t,e):S=G(e),e.f=15359&e.f|T,T|=s|(12288&e.f)<<2;else if(0!==(16384&i)){if(s=_(),0!==(3&i))l=e.s,!0===n&&k.call(t,l,S),null!==r&&R(l,r,!1,!0),S=l;else if(0!==(136&i))for(c=r.length;--c>=0;)null!==(l=r[c])&&R(t,l,n,!1);else if(0!==(16&i))R(t,e.c,n,o);else{!0===E&&(e.s=Object.assign({},F(),e.o.d.v));const i=I(e.s);R(t,e.c,n,o),M(i)}e.f=B(s,e.f)}else n?L(t,e):S=G(e)}function L(t,e){const n=e.f;if(0!==(3&n)){const n=e.s;k.call(t,n,S),S=n}else{const o=e.c;if(0!==(136&n)){let e=o.length;for(;--e>=0;){const n=o[e];null!==n&&L(t,n)}}else null!==o&&L(t,o)}}function $(t){const e=t.f;let n,o;if(0!==(32768&e)){const i=t.c;if(null!==i)if(0!==(136&e))for(n=0;n<i.length;n++)null!==(o=i[n])&&$(o);else $(i)}if(0!==(8192&e)&&null!==(o=t.s.u))if("function"===typeof o)o();else for(n=0;n<o.length;n++)o[n](!0)}function q(t,e,n){const o=e.f;let i;if(0!==(3&o))i=e.s,O.call(t,i);else if(0!==(136&o))if(!0===n)t.textContent="";else{i=e.c;for(let e=0;e<i.length;++e){const n=i[e];null!==n&&q(t,n,!1)}}else null!==(i=e.c)&&q(t,i,n)}function H(t,e,n){q(t,e,n),$(e)}function K(t,e,n){const o=document.createTextNode(n);k.call(t,o,S),S=o,e.s=o,e.f=1}function V(t,e){const n=e.t,o=0!==(512&n.f);if(void 0===t){const e=n.d;t=o?document.createElementNS(N,e):document.createElement(e)}const{n:i,a:r}=e.d;return i&&(o?A.call(t,"class",i):t.className=i),void 0!==r&&et(t,void 0,r),t}function z(t,e,n){const{t:o,d:i}=n,r=o.f;let l,s,c;if(0!==(4&r))l=_(),c=0!==(256&r)?(s=e.s={r:null,s:null,u:null}).r=n.t.d.c(e):n.t.d.c,e.c=Q(t,c(i)),e.f=15359&e.f|r|T,T|=l|(12288&e.f)<<2;else{if(l=_(),0!==(2&r)){const l=o.d;let f;0!==(64&r)&&(null===(f=l.n)&&(l.n=f=V(void 0,l.p)),f=j.call(f,!1)),e.s=f=V(f,n),s=S,S=null,null!==(c=i.c)&&(e.c=Q(f,c)),k.call(t,f,s),S=f}else if(0!==(48&r))0!==(32&r)?(s=I(e.s=Object.assign({},F(),i.v)),e.c=Q(t,i.c),M(s)):e.c=Q(t,i.c);else{let n=i.length;for(e.c=c=Array(n);--n>=0;)c[n]=Q(t,i[n].v)}e.f=B(l,r)}}function J(t,e,n){const o=_();let i=n.length;const r=Array(i);for(;--i>=0;)r[i]=Q(t,n[i]);e.c=r,e.f=B(o,128)}function Q(t,e){if(null!==e){const n=D(e);return"object"===typeof e?e instanceof Array?J(t,n,e):z(t,n,e):K(t,n,e),n}return null}function U(t,e){if("object"!==typeof e)return!0;if(t instanceof Array){if(!(e instanceof Array))return!0}else if(e instanceof Array||t.t!==e.t)return!0;return!1}function W(t,e,n,o,i){if(null===n)return null!==e&&H(t,e,i),null;if(null===e)return Q(t,n);const{o:r,s:l}=e;let s=e.f;if(0!==(1&s)){if("object"===typeof n)return O.call(t,l),Q(t,n);e.o=n,r!==n&&(l.nodeValue=n),!0===o&&k.call(t,l,S),S=l}else{if(r===n)return R(t,e,o,i),e;if(!0===U(r,n))return H(t,e,i),Q(t,n);e.o=n;const c=e.c;let f,u,a,d;if(0!==(4&s)){u=r.d,a=n.d;const l=n.t.d;0!==(1024&s)||u!==a&&(void 0===l.su||!0===l.su(u,a))?(f=_(),e.c=W(t,c,0!==(256&s)?e.s.r(a):l.c(a),o,i),s=e.f,e.f=15359&s|T,T|=f|(12288&s)<<2):R(t,e,o,i)}else{if(f=_(),0!==(2&s))u=r.d,a=n.d,!0===o&&k.call(t,l,S),d=a.n,u.n!==d&&(void 0===d&&(d=""),0!==(512&s)?A.call(l,"class",d):l.className=d),d=a.a,u.a!==d&&et(l,u.a,d),d=a.c,u.c!==d&&(S=null,e.c=W(l,c,d,!1,!0)),S=l;else if(0!==(136&s))if(0!==(128&s)){let r=n.length;if(c.length===r)for(;--r>=0;)c[r]=W(t,c[r],n[r],o,!1);else H(t,e,i),J(t,e,n)}else X(t,e,r.d,n.d,o,i);else if(0!==(16&s))e.c=W(t,c,n.d.c,o,i);else{const l=E;d=(a=n.d).v,r.d.v===d&&!0!==E||(e.s=Object.assign({},F(),d),E=!0),d=I(e.s),W(t,c,a.c,o,i),M(d),E=l}e.f=B(f,e.f)}}return e}function X(t,e,n,o,i,r){const l=e.c,s=Array(o.length);let c=o.length;if(0===c)l.length>0&&H(t,e,r);else if(0===l.length)for(;--c>=0;)s[c]=Q(t,o[c].v);else{let f,u,a=n[0],d=o[0],h=n.length-1,v=o.length-1,g=n[h],y=o[v],p=0;t:for(;;){for(;g.k===y.k;){if(s[v]=W(t,l[h--],y.v,i,!1),p>--v||p>h)break t;g=n[h],y=o[v]}for(;a.k===d.k;){if(++p>h||p>v)break t;a=n[p],d=o[p]}break}if(p>h)for(;v>=p;)s[v]=Q(t,o[v--].v);else if(p>v){c=p;do{null!==(u=l[c++])&&H(t,u,!1)}while(c<=h)}else{const a=h-p+1,d=v-p+1,g=Array(d);for(c=0;c<d;++c)g[c]=-1;let y=0,m=0;const b=new Map;for(f=p;f<=v;++f)b.set(o[f].k,f);for(c=p;c<=h&&m<d;++c)void 0!==(f=b.get(n[c].k))&&(y=y>f?1e6:f,++m,g[f-p]=c,s[f]=l[c],l[c]=null);if(a===n.length&&0===m)for(H(t,e,r);v>=0;)s[v]=Q(t,o[v--].v);else{for(c=p;c<=h;c++)null!==(u=l[c])&&H(t,u,!1);let e;if(c=d,!0===i||1e6!==y)for(;--c>=0;)e=o[y=p+c].v,s[y]=-1===g[c]?Q(t,e):W(t,s[y],e,i,!1);else{const n=Y(g);for(f=n.length-1;--c>=0;)e=o[y=p+c].v,-1===g[c]?s[y]=Q(t,e):(u=s[y],f<0||c!==n[f]?i=!0:--f,s[y]=W(t,u,e,i,!1),i=!1)}}}for(;--p>=0;)s[p]=W(t,l[p],o[p].v,i,!1)}e.c=s}function Y(t){const e=t.slice(),n=[];n[0]=0;let o,i,r,l=0;for(let s=0;s<t.length;++s){const c=t[s];if(-1!==c)if(t[r=n[l]]<c)e[s]=r,n[++l]=s;else{for(o=0,i=l;o<i;)t[n[r=(o+i)/2|0]]<c?o=r+1:i=r;c<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(i=n[l];l>=0;)n[l--]=i,i=e[i];return n}function Z(t,e,n){const o=t.style;let i,r;if(void 0===e)for(i in n)void 0!==(r=n[i])&&o.setProperty(i,r);else if(void 0===n)for(i in e)o.removeProperty(i);else{let t=0;for(i in e)r=void 0,!0===x.call(n,i)&&(r=n[i],t++),e[i]!==r&&(void 0!==r?o.setProperty(i,r):o.removeProperty(i));const l=Object.keys(n);for(let r=0;t<l.length&&r<l.length;++r)i=l[r],!1===x.call(e,i)&&(o.setProperty(i,n[i]),++t)}}function tt(t,e,n,o){"style"!==e?"object"===typeof o?o.u(t,e,void 0===n?void 0:n.v,o.v):n!==o&&("object"===typeof n?n.u(t,e,n.v,void 0):("boolean"===typeof o&&(o=o?"":void 0),void 0===o?P.call(t,e):A.call(t,e,o))):n!==o&&Z(t,n,o)}function et(t,e,n){let o;if(void 0===e)for(o in n)tt(t,o,void 0,n[o]);else if(void 0===n)for(o in e)tt(t,o,e[o],void 0);else{let i=0;for(o in e){let r=void 0;!0===x.call(n,o)&&(r=n[o],i++),tt(t,o,e[o],r)}const r=Object.keys(n);for(let l=0;i<r.length&&l<r.length;++l)o=r[l],!1===x.call(e,o)&&(tt(t,o,void 0,n[o]),++i)}}const nt=[],ot=t=>nt.find(t);function it(){for(let t=0;t<nt.length;++t){const e=nt[t],{container:n,state:o,next:i}=e;S=null,T=0,E=!1,void 0!==i?(e.next=void 0,e.state=W(n,o,i,!1,!0)):null!==o&&R(n,o,!1,!0)}}function rt(t){for(;t.v.length>0;){const e=t.v;let n=0;t.v=[];do{e[n++]()}while(n<e.length)}}let lt=0;const st={v:[]},ct={v:[]},ft={v:[]},ut=[],at=[];let dt=0;const ht=t=>v(function(){lt|=1,t.apply(void 0,arguments),rt(st),lt&=-4}),vt=ht(g),gt=(t=>ht(e=>{lt|=16,t(e),0!==(4&lt)&&(dt=void 0===e?performance.now():e,y(ut),0!==(32&lt)&&it(),rt(ct),y(at),rt(ft)),lt&=-61}))(g);function yt(t){var e,n;void 0!==t&&0!==(1&t)&&0===(8&lt)?0===(16&(lt|=12))&&(e=gt,st.v.push(e),0===(3&lt)&&(lt|=2,n=vt,Promise.resolve().then(n))):0===(4&lt)&&0===(16&(lt|=4))&&p(gt)}function pt(t){lt|=32,yt(t)}function mt(t,e,n){const o=ot(t=>t.container===e);o?o.next=t:(nt.push({container:e,state:null,next:t}),m&&(e.onclick=g)),pt(n)}function bt(t,e,n){const o=ot(t=>t.container.contains(e));if(o){const i=o.container;i!==e&&wt(t,n,e,i,o.state)}}function wt(t,e,n,o,i){const r=n.parentNode;return r===o||null!==(i=wt(t,e,r,o,i))?xt(t,e,n,i):null}function xt(t,e,n,o){if(null===o)return null;const{f:i,c:r}=o;let l;if(0!==(2&i)){if(o.s===n)return o;if(null!==r)return xt(t,e,n,r)}else if(0!==(52&i)){if(null!==(l=xt(t,e,n,o.c)))return 0!==(16&i)&&kt(t,o,o.o.d.v,e),l}else if(0!==(136&i))for(let s=0;s<r.length;s++)if(null!==(l=xt(t,e,n,r[s])))return l;return null}function kt(t,e,n,o){if(null!==n)if(n instanceof Array)for(let i=0;i<n.length;++i)kt(t,e,n[i],o);else!0===o(n)&&t.push({t:e,h:n})}function Ot(t,e,n,o){let i=t.length;for(;--i>=0;)if(jt(t[i],e,1,o),2&e.flags)return;if(n)for(;++i<t.length;)if(jt(t[i],e,2,o),2&e.flags)return}function jt(t,e,n,o){const i=t.h;(i.d.flags&n)===n&&(e.node=t.t,e.flags|=At(i,o,e))}function At(t,e,n){const o=void 0===e?t.h(n):e(t,n);return void 0===o?0:o}function Pt(t,e,n,o){return{flags:t,timestamp:e,node:n,native:o}}function Nt(t,e,n=!0){const o={a:null,b:null},i=t=>t.d.src===o;return document.addEventListener(e,ht(e=>{const n=[];if(bt(n,e.target,i),n.length||o.b||o.a){const i=Pt(0,e.timeStamp,null,e);Dt(o.b,i),n.length&&Ot(n,i,0!==(4&t)),Dt(o.a,i),1&i.flags&&e.preventDefault()}}),n),o}function Dt(t,e){if(null!==t){e.node=null;const n=t.slice();for(let t=0;t<n.length;t++)n[t](e)}}function St(t){const e={src:t,flags:2},n={src:t,flags:1};return(t,o)=>({d:!0===o?n:e,h:t})}const Tt=St(Nt(5,"keydown")),Et={v:void 0,u:g};function Ct(t,e,n,o){var i;void 0===n&&o&&(i=(()=>{t.focus()}),ft.v.push(i),yt(void 0))}const It={v:!1,u:Ct},Mt={v:!0,u:Ct},Ft=t=>void 0===t?Et:t?Mt:It,_t=t=>({v:t}),Bt=a("div"),Gt={x:-1,y:0},Rt={x:1,y:0},Lt={x:0,y:-1},$t={x:0,y:1};class qt{constructor(t={x:0,y:0}){this.body=[],this.grow=4,this.body.push(t)}get head(){return this.body[this.body.length-1]}move(t){if(this.body.push(t),this.grow)return this.grow--,null;{const t=this.body[0];return this.body=this.body.splice(1),t}}}class Ht{constructor(t=20,e=20){this.rows=t,this.cols=e,this.cells=new Array(t*e).fill(0)}pointToIndex(t){return this.cols*t.y+t.x}mark(t,e){this.cells[this.pointToIndex(t)]|=e}unmark(t,e){this.cells[this.pointToIndex(t)]&=~e}createRandomFood(){let t=0;do{t=Math.random()*this.cells.length|0}while(0!==this.cells[t]);this.cells[t]|=4}isBodyAt(t){return!!(1&this.cells[this.pointToIndex(t)])}isHeadAt(t){return!!(2&this.cells[this.pointToIndex(t)])}isFoodAt(t){return!!(4&this.cells[this.pointToIndex(t)])}}function Kt(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Vt(t,e){return(t%e+e)%e}function zt(t){return 1&t?2&t?"Cell body head":"Cell body":4&t?"Cell food":"Cell"}const Jt=function(t,e){const n=o(4356,{c:()=>{let t;const e=Tt(e=>{switch(e.native.keyCode){case 37:return t.setNewDirection(Gt),1;case 38:return t.setNewDirection(Lt),1;case 39:return t.setNewDirection(Rt),1;case 40:return t.setNewDirection($t),1}});return n=>(t=n.v,Bt(t.gameOver?"SnakeGame gameOver":"SnakeGame",void 0,s(e,Bt("Grid",{tabIndex:0,autofocus:Ft(!0),style:{width:`${30*t.grid.cols}px`,height:`${30*t.grid.rows}px`}},f(t.grid.cells.map((t,e)=>c(e,Bt(zt(t)))))))))},su:void 0});return t=>l(n,t)}(),Qt=document.getElementById("app"),Ut=new class{constructor(){this.gameOver=!1,this.startTime=0,this.currentTime=0,this.direction={x:1,y:0},this.grid=new Ht,this.snake=new qt,this.newDirection=null,this.snake.body.forEach(t=>{this.grid.mark(t,1)}),this.grid.mark(this.snake.head,2),this.grid.createRandomFood()}setNewDirection(t){this.newDirection=t}updateState(){if(!this.gameOver){this.newDirection&&(e={x:0,y:0},((t=Kt(this.direction,this.newDirection)).x!==e.x||t.y!==e.y)&&(this.direction=this.newDirection),this.newDirection=null);let n=Kt(this.snake.head,this.direction);n={x:Vt(n.x,this.grid.cols),y:Vt(n.y,this.grid.rows)},this.grid.unmark(this.snake.head,2);const o=this.snake.move(n);o&&this.grid.unmark(o,1),this.grid.mark(n,2),this.grid.isBodyAt(n)?this.gameOver=!0:this.grid.isFoodAt(n)&&(this.snake.grow=3,this.grid.unmark(n,4),this.grid.createRandomFood()),this.grid.mark(n,1)}var t,e}};!function t(){Ut.updateState(),mt(Jt(_t(Ut)),Qt),setTimeout(t,100)}()}});