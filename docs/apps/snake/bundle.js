!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([,function(e,t,n){"use strict";n.r(t);var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function l(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function a(e,t){var n=e.length-1,r=e.pop();t!==n&&(e[t]=r)}(function(){try{var e=Object.defineProperty({},"passive",{get:function(){}});window.addEventListener("test",null,e)}catch(e){}})(),KeyboardEvent.prototype.hasOwnProperty("key"),MouseEvent.prototype.hasOwnProperty("buttons"),window,window,window;var f="GestureEvent"in window;function u(){}var s=[];function c(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return e.apply(void 0,t)}catch(e){for(var r=0,o=s;r<o.length;r++)(0,o[r])(e);throw e}}}function d(e){for(var t=0;t<e.length;++t)!0===e[t]()&&a(e,t--)}function v(e){var t=e.a;e.a=[];for(var n=0,r=t;n<r.length;n++)(0,r[n])()}var h=0,p={a:[]},_=[],y=[],g=u,w={f:0,w:{a:[]},r:{a:[]}},m={f:0,w:{a:[]},r:{a:[]}},b=null,x=c(function(){for(;p.a.length>0;)v(p);h^=2});function k(e){e instanceof Element&&(b=e)}function O(){8&h&&requestAnimationFrame(P)}function A(){var e;8&h||(e=O,2&(h|=8)||(h|=2,Promise.resolve().then(x)),p.a.push(e))}var P=c(function(e){h^=24;var t=m;m=w,w=t,d(_);do{for(;4&t.f;)t.f^=4,v(t.r);for(;3&t.f;)2&t.f&&(t.f^=2,v(t.w)),1&t.f&&(t.f^=1,g())}while(7&t.f);h^=16,d(y),null!==b&&(b.focus(),b=null)});function j(e){e.f|=1}function D(e,t){e.f|=2,e.w.a.push(t)}function E(){8&h&&P(performance.now())}var S=Node.prototype,N=Element.prototype,T=(Object.prototype.hasOwnProperty,S.insertBefore),C=S.removeChild,I=S.replaceChild,M=S.cloneNode,F=N.setAttribute,U=(N.setAttributeNS,N.removeAttribute),B="http://www.w3.org/2000/svg";function G(e,t){var n,r,o;if(null===e)K(t);else if(null===t)L(e);else if(e instanceof Array)if(t instanceof Array){for(n=0;n<e.length&&n<t.length;)(r=e[n])!==(o=t[n++])&&(null!==o&&R(o),null!==r&&q(r));for(;n<t.length;)null!==(r=t[n++])&&R(r);for(;n<e.length;)null!==(r=e[n++])&&q(r)}else for(R(t),n=0;n<e.length;++n)null!==(r=e[n])&&q(r);else K(t),q(e)}function K(e){if(e instanceof Array)for(var t=0;t<e.length;++t){var n=e[t];null!==n&&R(n)}else R(e)}function L(e){if(e instanceof Array)for(var t=0;t<e.length;++t){var n=e[t];null!==n&&q(n)}else q(e)}function R(e){e.src.add(e)}function q(e){e.src.remove(e)}var H=function(){function e(e,t,n,r,o){this._f=e,this._l=this,this._r=null,this._c=null,this._t=t,this._k=0,this._p=n,this._i=null,this._cs=r,this._s=o,this._e=null}return e.prototype.k=function(e){return this._f|=32,this._k=e,this},e.prototype.e=function(e){return null!==e&&(this._f|=128,this._e=e),this},e.prototype.c=function(){for(var t=arguments,n=null,r=null,o=0,i=0;o<t.length;++o,++i){var l=t[o];if(null!==l){"object"!=typeof l&&(l=new e(1,null,l,"",void 0));var a=l._l,f=l._f;if(a===l)0==(32&f)&&(l._k=i);else if(0==(64&f)){var u=l;do{0==(32&u._f)&&(u._k=i),++i,u=u._r}while(null!==u);--i}null!==r?(l._l=r,r._r=l):n=l,r=a}}return null!==n&&(n._l=r,this._c=n),this},e}();function z(e){return 0!=(1560&e._f)?z(e._c):e._i}function J(e,t,n){var r,o,i=e.style;if(void 0===t)for(r in n)void 0!==(o=n[r])&&i.setProperty(r,o);else if(void 0!==n)for(r in n)o=n[r],t[r]!==o&&(void 0!==o?i.setProperty(r,o):i.removeProperty(r))}function Q(e,t,n,r){"object"==typeof r?r.s(e,t,void 0===n?void 0:n.v,r.v):n!==r&&("boolean"==typeof r&&(r=r?"":void 0),void 0===r?U.call(e,t):F.call(e,t,r))}function V(e,t,n){var r;if(void 0===t)for(r in n)Q(e,r,void 0,n[r]);else if(void 0!==n)for(r in n)Q(e,r,t[r],n[r])}function W(e,t){C.call(e,z(t)),Y(t)}function X(e){var t=e._f;0!=(16&t)&&e._i.attached();for(var n=e._c;null!==n;)X(n),n=n._r;0!=(128&t)&&K(e._e)}function Y(e){for(var t=e._c;null!==t;)Y(t),t=t._r;var n=e._f;if(0!=(16&n)){var r=e._i;r.flags|=1,r.detached()}0!=(128&n)&&L(e._e)}function Z(e,t,n,r){var o,l,a=t._f;if((-2147482086&a)>0)if(o=t._c,0!=(2&a))for(l=t._i;null!==o;)Z(l,o,n,r),o=o._r;else if(0!=(16&a))0!=(2&(l=t._i).flags)?(ne(e,o,t._c=l.render(),n,r),l.flags&=-3,l.updated()):Z(e,o,n,r);else if(0!=(512&a)){var f=t._t;l=t._i;var u=f.select(l,t._p,n);l===u?Z(e,o,n,r):(t._i=u,ne(e,o,t._c=f.render(u),n,r))}else 0!=(1024&a)&&(!0===r&&(t._i=i({},n,t._p)),n=t._i),Z(e,o,n,r)}function $(e,t){e.textContent="";var n=t;do{Y(n),n=n._r}while(null!==n)}function ee(e,t,n){var r,o=t._f,l=t._p,a=null;if(0!=(1&o))a=r=document.createTextNode(l);else{var f=t._t;if(0!=(18&o))if(0!=(2&o)){var u=0!=(256&o);0==(4&o)?r=u?document.createElementNS(B,f):document.createElement(f):(null===f._i&&ee(e,f,n),r=M.call(f._i,!1)),a=r;var s=t._cs;""!==s&&(!0===u?F.call(r,"class",s):r.className=s),void 0!==l&&V(r,void 0,l),void 0!==t._s&&J(r,void 0,t._s);for(var c=t._c;null!==c;)T.call(r,ee(r,c,n),null),c=c._r}else{var d=a=new f(l);r=ee(e,t._c=d.render(),n)}else{if(0!=(1536&o))if(0!=(512&o)){var v=f,h=a=v.select(null,l,n);t._c=v.render(h)}else n=a=i({},n,l);else t._c=f.render(l);r=ee(e,t._c,n)}0!=(4096&o)&&k(r)}return t._i=a,r}function te(e,t,n,r){var o=ee(e,n,r);return T.call(e,o,t),X(n),o}function ne(e,t,n,r,o){if(t!==n){var l,a=t._f,f=n._f;if(0!=(2090815&(a^f))||0!=(540&a)&&t._t!==n._t||t._k!==n._k)l=ee(e,n,r),I.call(e,l,z(t)),Y(t),X(n);else{var u=t._p,s=n._p;if(n._i=l=t._i,0!=(1&f))u!==s&&(l.data=s);else{var c=t._c,d=n._c;if(t._e!==n._e&&G(t._e,n._e),0!=(18&f))if(0!=(2&f)){var v=n._cs;if(t._cs!==v&&(0!=(256&f)?F.call(l,"class",v):l.className=v),u!==s&&V(l,u,s),t._s!==n._s&&J(l,t._s,n._s),c!==d)if(null===c)do{te(l,null,d,r),d=d._r}while(null!==d);else null===d?$(l,c):re(l,c,d,r,o)}else u!==s&&l.propsChanged(u,s),l.props=s,0!=(2&l.flags)||!0===l.shouldUpdate(u,s)?(ne(e,c,n._c=l.render(),r,o),l.flags&=-3,l.updated()):Z(e,n._c=c,r,o);else if(0!=(1536&f))if(0!=(512&f)){var h=n._t,p=l,_=n._i=h.select(p,s,r);p===_?Z(e,n._c=c,r,o):ne(e,c,n._c=h.render(_),r,o)}else u!==s&&(o=!0),n._i=r=!0===o?i({},r,s):l,ne(e,c,d,r,o);else{var y=n._t;u===s||0!=(2048&f)&&!0!==y.shouldUpdate(u,s)?Z(e,n._c=c,r,o):ne(e,c,n._c=y.render(s),r,o)}}}}else Z(e,n,r,o)}function re(e,t,n,r,o){var i=t._l,l=n._l,a=0,f=0;e:for(;;){for(;t._k===n._k&&0==(32&(t._f^n._f));)if(ne(e,t,n,r,o),f++,t===i?a=1:t=t._r,n===l?a|=2:n=n._r,a)break e;for(;i._k===l._k&&0==(32&(i._f^l._f));)if(ne(e,i,l,r,o),f++,t===i?a=1:i=i._l,n===l?a|=2:l=l._l,a)break e;break}if(a){if(a<3)if(a<2)for(var u=oe(l);te(e,u,n,r),n!==l;)n=n._r;else for(;W(e,t),t!==i;)t=t._r}else{for(var s=0,c=0,d=0,v=[],h=void 0,p=void 0,_=void 0,y=n;_=y._k,32&y._f?(void 0===h&&(h=new Map),h.set(_,c)):(void 0===p&&(p=new Map),p.set(_,c)),v[c++]=y,y!==l;)y=y._r;var g=new Array(c).fill(-1),w=0;for(y=t;_=y._k,void 0===(a=32&y._f?h?h.get(_):void 0:p?p.get(_):void 0)?y._k=null:(d=d>a?1e9:a,g[a]=s,ne(e,y,v[a],r,o),w++),s++,y!==i;)y=y._r;if(f||w){for(a=s-w;a>0;)null===t._k&&(W(e,t),a--),t=t._r;if(1e9===d){var m=ie(g);for(a=m.length-1;c>0;)g[--c]<0?te(e,oe(l),l,r):a<0||c!==m[a]?T.call(e,z(l),oe(l)):a--,l=l._l}else if(w!==c)for(;c>0;)g[--c]<0&&te(e,oe(l),l,r),l=l._l}else{$(e,t);do{te(e,null,n,r),n=n._r}while(null!==n)}}}function oe(e){var t=e._r;return null===t?null:z(t)}function ie(e){var t=e.slice(),n=[];n[0]=0;for(var r,o,i,l=0,a=0;a<e.length;++a){var f=e[a];if(-1!==f)if(e[i=n[l]]<f)t[a]=i,n[++l]=a;else{for(r=0,o=l;r<o;)e[n[i=(r+o)/2|0]]<f?r=i+1:o=i;f<e[n[r]]&&(r>0&&(t[a]=n[r-1]),n[r]=a)}}for(o=n[l];l>=0;)n[l--]=o,o=t[o];return n}var le=[],ae={},fe=0;function ue(e){var t,n;try{for(var r=l(le),o=r.next();!o.done;o=r.next()){var i=o.value;if(i.container===e)return i}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}function se(){if(fe){fe=0,g=ce;for(var e=0;e<le.length;++e){var t=le[e],n=t.container,r=t.current,o=t.next;t.next=void 0,o?(r?ne(n,r,o,ae,!1):(te(n,null,o,ae),f&&(n.onclick=u)),t.current=o):r&&(null===o?(W(n,r),a(le,le.indexOf(t)),--e):Z(n,r,ae,!1))}}}function ce(){de(),E()}function de(){var e;fe||(fe=1,e=se,A(),D(m,e))}var ve=function(){function e(e){this.flags=0,this.props=e}return e.prototype.propsChanged=function(e,t){},e.prototype.attached=function(){},e.prototype.detached=function(){},e.prototype.shouldUpdate=function(e,t){return e!==t},e.prototype.updated=function(){},e.prototype.invalidated=function(){},e.prototype.invalidate=function(){this.flags|=2,this.invalidated(),16&h?j(w):(A(),j(m))},e}();function he(e,t,n){var r,o;try{for(var i=l(le),a=i.next();!a.done;a=i.next()){var f=a.value,u=f.container;if(u.contains(t)){pe(e,n,t,u,f.current);break}}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}}function pe(e,t,n,r,o){var i=n.parentNode;if(i!==r)for(var l=(o=pe(e,t,i,r,o))._c;null!==l;){var a=_e(e,t,n,l);if(a)return a;l=l._r}return _e(e,t,n,o)}function _e(e,t,n,r){var o,i=r._f;if(2&i){if(r._i===n)return ye(e,r,t),r}else if(1560&i&&(o=_e(e,t,n,r._c)))return ye(e,r,t),o;return null}function ye(e,t,n){var r,o,i=t._e;if(i){var a=void 0;if(i instanceof Array){var f=0;try{for(var u=l(i),s=u.next();!s.done;s=u.next()){var c=s.value;null!==c&&!0===n(c)&&(0===f?a=c:1===f?a=[a,c]:a.push(c),++f)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}else!0===n(i)&&(a=i);void 0!==a&&e.push({target:t,handlers:a})}}function ge(e,t,n,r){for(var o=e.length;--o>=0;)if(we(e[o],t,1,r),2&t.flags)return;if(n)for(;++o<e.length;)if(we(e[o],t,2,r),2&t.flags)return}function we(e,t,n,r){var o,i,a=e.handlers,f=0;if(a instanceof Array)try{for(var u=l(a),s=u.next();!s.done;s=u.next()){var c=s.value;c.flags&n&&(f|=me(c,r,t))}}catch(e){o={error:e}}finally{try{s&&!s.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}else a.flags&n&&(f=me(a,r,t));t.flags|=f}function me(e,t,n){var r=void 0===t?e.handler(n):t(e,n);return void 0===r?0:r}function be(e){var t=e.target||window;return void 0!==t.correspondingUseElement&&(t=t.correspondingUseElement),t}var xe=function(e){function t(t,n,r,o){var i=e.call(this,t,r)||this;return i.target=n,i.native=o,i}return o(t,e),t}(function(e,t){this.flags=e,this.timestamp=t});function ke(e){0==e.deps++&&document.addEventListener(e.name,e.dispatch,e.options)}function Oe(e){0==--e.deps&&document.removeEventListener(e.name,e.dispatch,e.options)}function Ae(e,t){var n,r;if(e){var o=e.slice();try{for(var i=l(o),a=i.next();!a.done;a=i.next())(0,a.value)(t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}var Pe=function(e,t,n){var r={src:{add:function(){++r.listeners,ke(r)},remove:function(){--r.listeners,Oe(r)}},deps:0,listeners:0,flags:5,options:!0,name:"keydown",before:null,after:null,dispatch:null},o=function(e){return e.src===r.src};return r.dispatch=c(function(e){var t=be(e),n=[];if(r.listeners>0&&he(n,t,o),n.length||null!==r.before||null!==r.after){var i=new xe(0,t,e.timeStamp,e);Ae(r.before,i),n.length&&ge(n,i,0!=(4&r.flags)),Ae(r.after,i),0!=(1&i.flags)&&e.preventDefault()}}),r}();function je(e,t,n){return{src:e,flags:!0===n?1:2,handler:t,listeners:0,props:null,state:null}}function De(e,t){for(var n=null,r=null,o=0;o<e.length;++o){var i=t(e[o],o);null!==i&&(null!==r?(i._l=r,r._r=i):n=i,r=i)}return null!==n?(n._l=r,n._f|=64,n):null}function Ee(e,t,n){return new H(245762,"div",t,void 0===e?"":e,n)}var Se={x:-1,y:0},Ne={x:1,y:0},Te={x:0,y:-1},Ce={x:0,y:1},Ie=function(){function e(e){void 0===e&&(e={x:0,y:0}),this.body=[],this.grow=4,this.body.push(e)}return Object.defineProperty(e.prototype,"head",{get:function(){return this.body[this.body.length-1]},enumerable:!0,configurable:!0}),e.prototype.move=function(e){if(this.body.push(e),this.grow)return this.grow--,null;var t=this.body[0];return this.body=this.body.splice(1),t},e}(),Me=function(){function e(e,t){void 0===e&&(e=20),void 0===t&&(t=20),this.rows=e,this.cols=t,this.cells=new Array(e*t).fill(0)}return e.prototype.pointToIndex=function(e){return this.cols*e.y+e.x},e.prototype.mark=function(e,t){this.cells[this.pointToIndex(e)]|=t},e.prototype.unmark=function(e,t){this.cells[this.pointToIndex(e)]&=~t},e.prototype.createRandomFood=function(){var e=0;do{e=Math.random()*this.cells.length|0}while(0!==this.cells[e]);this.cells[e]|=4},e.prototype.isBodyAt=function(e){return!!(1&this.cells[this.pointToIndex(e)])},e.prototype.isHeadAt=function(e){return!!(2&this.cells[this.pointToIndex(e)])},e.prototype.isFoodAt=function(e){return!!(4&this.cells[this.pointToIndex(e)])},e}();function Fe(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Ue(e,t){return(e%t+t)%t}var Be,Ge=function(){function e(){var e=this;this.gameOver=!1,this.startTime=0,this.currentTime=0,this.direction={x:1,y:0},this.grid=new Me,this.snake=new Ie,this.newDirection=null,this.snake.body.forEach(function(t){e.grid.mark(t,1)}),this.grid.mark(this.snake.head,2),this.grid.createRandomFood()}return e.prototype.setNewDirection=function(e){this.newDirection=e},e.prototype.updateState=function(){if(!this.gameOver){this.newDirection&&(r={x:0,y:0},((n=Fe(this.direction,this.newDirection)).x!==r.x||n.y!==r.y)&&(this.direction=this.newDirection),this.newDirection=null);var e=Fe(this.snake.head,this.direction);e={x:Ue(e.x,this.grid.cols),y:Ue(e.y,this.grid.rows)},this.grid.unmark(this.snake.head,2);var t=this.snake.move(e);t&&this.grid.unmark(t,1),this.grid.mark(e,2),this.grid.isBodyAt(e)?this.gameOver=!0:this.grid.isFoodAt(e)&&(this.snake.grow=3,this.grid.unmark(e,4),this.grid.createRandomFood()),this.grid.mark(e,1)}var n,r},e}(),Ke=(Be=function(e){function t(){var t,n,r=null!==e&&e.apply(this,arguments)||this;return r.onKeyDown=(t=function(e){switch(e.native.keyCode){case 37:return r.props.value.setNewDirection(Se),1;case 38:return r.props.value.setNewDirection(Te),1;case 39:return r.props.value.setNewDirection(Ne),1;case 40:return r.props.value.setNewDirection(Ce),1}},void 0===n&&(n=!1),je(Pe.src,t,n)),r}return o(t,e),t.prototype.render=function(){var e,t=this.props.value.grid,n=0;return Ee(this.props.value.gameOver?"SnakeGame gameOver":"SnakeGame").c(((e=Ee("Grid",{tabIndex:0},{width:30*t.cols+"px",height:30*t.rows+"px"}).e(this.onKeyDown).c(De(t.cells,function(e){return Ee((t=e,1&t?2&t?"Cell body head":"Cell body":4&t?"Cell food":"Cell")).k(n++);var t})))._f|=4096,e))},t}(ve),function(e){return new H(16,Be,e,"",void 0)}),Le=document.getElementById("app"),Re=new Ge;!function e(){var t,n,r;Re.updateState(),t=Ke({value:Re}),(r=ue(n=Le))?r.next=t:le.push({container:n,next:t,current:null}),de(),E(),setTimeout(e,100)}()}]);